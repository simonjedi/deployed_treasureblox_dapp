{"ast":null,"code":"\"use strict\";\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseAddress = void 0;\n\nvar utils_1 = require(\"@celo/utils\");\n\nfunction invalidChain(chain) {\n  return chain !== 'celo' && chain !== 'eip155';\n} // celo:0x123\n\n\nfunction parseShortNameAddress(addressLike) {\n  var _a = __read(addressLike.split(':'), 2),\n      celo = _a[0],\n      address = _a[1];\n\n  if (invalidChain(celo) || !utils_1.AddressUtils.isValidAddress(address)) {\n    throw new Error('Invalid short name address');\n  } // default to mainnet\n\n\n  return {\n    address: address,\n    networkId: '42220'\n  };\n} // <address>@<chain>:<network_id>\n// 0x123@celo:1234\n// 0x123@eip155:1234\n\n\nfunction parseCaip50Address(addressLike) {\n  var _a = __read(addressLike.split(/[@:]/), 3),\n      address = _a[0],\n      chain = _a[1],\n      networkId = _a[2];\n\n  if (!utils_1.AddressUtils.isValidAddress(address) || invalidChain(chain)) {\n    throw new Error(\"Invalid CAIP50 address \" + address);\n  }\n\n  return {\n    address: address,\n    networkId: networkId\n  };\n} // <chain>:<network_id>:<address>\n// celo:1234:0x123\n// eip155:1234:0x123\n\n\nfunction parseCaip10Address(addressLike) {\n  var _a = __read(addressLike.split(':'), 3),\n      chain = _a[0],\n      networkId = _a[1],\n      address = _a[2];\n\n  if (!utils_1.AddressUtils.isValidAddress(address) || invalidChain(chain)) {\n    throw new Error(\"Invalid CAIP10 address \" + address);\n  }\n\n  return {\n    address: address,\n    networkId: networkId\n  };\n}\n\nfunction parseAddress(addressLike) {\n  var e_1, _a;\n\n  var lastError = null;\n\n  try {\n    for (var _b = __values([parseCaip10Address, parseCaip50Address, parseShortNameAddress]), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var parse = _c.value;\n\n      try {\n        return parse(addressLike);\n      } catch (e) {\n        lastError = e;\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  throw lastError;\n}\n\nexports.parseAddress = parseAddress;","map":{"version":3,"sources":["../../src/utils/parse-addresses.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseAddress = void 0;\nvar utils_1 = require(\"@celo/utils\");\nfunction invalidChain(chain) {\n    return chain !== 'celo' && chain !== 'eip155';\n}\n// celo:0x123\nfunction parseShortNameAddress(addressLike) {\n    var _a = __read(addressLike.split(':'), 2), celo = _a[0], address = _a[1];\n    if (invalidChain(celo) || !utils_1.AddressUtils.isValidAddress(address)) {\n        throw new Error('Invalid short name address');\n    }\n    // default to mainnet\n    return { address: address, networkId: '42220' };\n}\n// <address>@<chain>:<network_id>\n// 0x123@celo:1234\n// 0x123@eip155:1234\nfunction parseCaip50Address(addressLike) {\n    var _a = __read(addressLike.split(/[@:]/), 3), address = _a[0], chain = _a[1], networkId = _a[2];\n    if (!utils_1.AddressUtils.isValidAddress(address) || invalidChain(chain)) {\n        throw new Error(\"Invalid CAIP50 address \" + address);\n    }\n    return { address: address, networkId: networkId };\n}\n// <chain>:<network_id>:<address>\n// celo:1234:0x123\n// eip155:1234:0x123\nfunction parseCaip10Address(addressLike) {\n    var _a = __read(addressLike.split(':'), 3), chain = _a[0], networkId = _a[1], address = _a[2];\n    if (!utils_1.AddressUtils.isValidAddress(address) || invalidChain(chain)) {\n        throw new Error(\"Invalid CAIP10 address \" + address);\n    }\n    return { address: address, networkId: networkId };\n}\nfunction parseAddress(addressLike) {\n    var e_1, _a;\n    var lastError = null;\n    try {\n        for (var _b = __values([parseCaip10Address, parseCaip50Address, parseShortNameAddress]), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var parse = _c.value;\n            try {\n                return parse(addressLike);\n            }\n            catch (e) {\n                lastError = e;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    throw lastError;\n}\nexports.parseAddress = parseAddress;\n//# sourceMappingURL=parse-addresses.js.map"]},"metadata":{},"sourceType":"script"}