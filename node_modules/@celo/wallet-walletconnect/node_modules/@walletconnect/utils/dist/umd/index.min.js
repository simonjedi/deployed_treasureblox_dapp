!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("WalletConnectUtils",[],e):"object"==typeof exports?exports.WalletConnectUtils=e():t.WalletConnectUtils=e()}(this,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=27)}([function(t,e,r){"use strict";r.d(e,"b",(function(){return E})),r.d(e,"j",(function(){return d})),r.d(e,"a",(function(){return l})),r.d(e,"i",(function(){return h})),r.d(e,"h",(function(){return _})),r.d(e,"z",(function(){return y})),r.d(e,"B",(function(){return p})),r.d(e,"c",(function(){return O})),r.d(e,"k",(function(){return T})),r.d(e,"A",(function(){return g})),r.d(e,"C",(function(){return S})),r.d(e,"y",(function(){return v})),r.d(e,"x",(function(){return P})),r.d(e,"m",(function(){return A})),r.d(e,"l",(function(){return m})),r.d(e,"w",(function(){return N})),r.d(e,"g",(function(){return I})),r.d(e,"E",(function(){return b})),r.d(e,"f",(function(){return w})),r.d(e,"n",(function(){return n})),r.d(e,"o",(function(){return o})),r.d(e,"r",(function(){return i})),r.d(e,"t",(function(){return a})),r.d(e,"v",(function(){return u})),r.d(e,"q",(function(){return c})),r.d(e,"s",(function(){return s})),r.d(e,"u",(function(){return f})),r.d(e,"p",(function(){return R})),r.d(e,"e",(function(){return U})),r.d(e,"d",(function(){return D})),r.d(e,"D",(function(){return C})),r.d(e,"F",(function(){return M}));const n=0,o=1,i=16,a=32,u=64,c=128,s=256,f=512,R=1024,E=s,d=s,l="AES-CBC",h="SHA-"+s,_="HMAC",y="SHA-256",p="SHA-512",O=`aes-${s}-cbc`,T="sha"+s,g="sha256",S="sha512",v="ripemd160",P=o,A=a,m=i,N=a,I="hex",b="utf8",w="Bad MAC",U="encrypt",D="decrypt",C="sign",M="verify"},function(t,e,r){"use strict";r.r(e);var n=r(11);r.d(e,"randomBytes",(function(){return n.a}));var o=r(13);r.d(e,"aesCbcEncrypt",(function(){return o.b})),r.d(e,"aesCbcDecrypt",(function(){return o.a}));var i=r(14);r.d(e,"hmacSha256Sign",(function(){return i.a})),r.d(e,"hmacSha256Verify",(function(){return i.b})),r.d(e,"hmacSha512Sign",(function(){return i.c})),r.d(e,"hmacSha512Verify",(function(){return i.d}));var a=r(19);r.d(e,"sha256",(function(){return a.b})),r.d(e,"sha512",(function(){return a.c})),r.d(e,"ripemd160",(function(){return a.a}));var u=r(6);for(var c in u)["default","randomBytes","aesCbcEncrypt","aesCbcDecrypt","hmacSha256Sign","hmacSha256Verify","hmacSha512Sign","hmacSha512Verify","sha256","sha512","ripemd160"].indexOf(c)<0&&function(t){r.d(e,t,(function(){return u[t]}))}(c);var s=r(0);r.d(e,"AES_LENGTH",(function(){return s.b})),r.d(e,"HMAC_LENGTH",(function(){return s.j})),r.d(e,"AES_BROWSER_ALGO",(function(){return s.a})),r.d(e,"HMAC_BROWSER_ALGO",(function(){return s.i})),r.d(e,"HMAC_BROWSER",(function(){return s.h})),r.d(e,"SHA256_BROWSER_ALGO",(function(){return s.z})),r.d(e,"SHA512_BROWSER_ALGO",(function(){return s.B})),r.d(e,"AES_NODE_ALGO",(function(){return s.c})),r.d(e,"HMAC_NODE_ALGO",(function(){return s.k})),r.d(e,"SHA256_NODE_ALGO",(function(){return s.A})),r.d(e,"SHA512_NODE_ALGO",(function(){return s.C})),r.d(e,"RIPEMD160_NODE_ALGO",(function(){return s.y})),r.d(e,"PREFIX_LENGTH",(function(){return s.x})),r.d(e,"KEY_LENGTH",(function(){return s.m})),r.d(e,"IV_LENGTH",(function(){return s.l})),r.d(e,"MAC_LENGTH",(function(){return s.w})),r.d(e,"HEX_ENC",(function(){return s.g})),r.d(e,"UTF8_ENC",(function(){return s.E})),r.d(e,"ERROR_BAD_MAC",(function(){return s.f})),r.d(e,"LENGTH_0",(function(){return s.n})),r.d(e,"LENGTH_1",(function(){return s.o})),r.d(e,"LENGTH_16",(function(){return s.r})),r.d(e,"LENGTH_32",(function(){return s.t})),r.d(e,"LENGTH_64",(function(){return s.v})),r.d(e,"LENGTH_128",(function(){return s.q})),r.d(e,"LENGTH_256",(function(){return s.s})),r.d(e,"LENGTH_512",(function(){return s.u})),r.d(e,"LENGTH_1024",(function(){return s.p})),r.d(e,"ENCRYPT_OP",(function(){return s.e})),r.d(e,"DECRYPT_OP",(function(){return s.d})),r.d(e,"SIGN_OP",(function(){return s.D})),r.d(e,"VERIFY_OP",(function(){return s.F}))},function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(r(30),e),o(r(31),e)},function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return u})),r.d(e,"c",(function(){return c})),r.d(e,"d",(function(){return s})),r.d(e,"e",(function(){return f})),r.d(e,"f",(function(){return R}));var n=r(2),o=r(0);async function i(t,e=o.a){return n.getSubtleCrypto().importKey("raw",t,function(t){return t===o.a?{length:o.b,name:o.a}:{hash:{name:o.i},name:o.h}}(e),!0,function(t){return t===o.a?[o.e,o.d]:[o.D,o.F]}(e))}async function a(t,e,r){const a=n.getSubtleCrypto(),u=await i(e,o.a),c=await a.encrypt({iv:t,name:o.a},u,r);return new Uint8Array(c)}async function u(t,e,r){const a=n.getSubtleCrypto(),u=await i(e,o.a),c=await a.decrypt({iv:t,name:o.a},u,r);return new Uint8Array(c)}async function c(t,e){const r=n.getSubtleCrypto(),a=await i(t,o.h),u=await r.sign({length:o.j,name:o.h},a,e);return new Uint8Array(u)}async function s(t,e){const r=n.getSubtleCrypto(),a=await i(t,o.h),u=await r.sign({length:o.u,name:o.h},a,e);return new Uint8Array(u)}async function f(t){const e=n.getSubtleCrypto(),r=await e.digest({name:o.z},t);return new Uint8Array(r)}async function R(t){const e=n.getSubtleCrypto(),r=await e.digest({name:o.B},t);return new Uint8Array(r)}},function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"d",(function(){return u})),r.d(e,"c",(function(){return c})),r.d(e,"g",(function(){return s})),r.d(e,"h",(function(){return f})),r.d(e,"e",(function(){return R})),r.d(e,"f",(function(){return E})),r.d(e,"i",(function(){return d})),r.d(e,"b",(function(){return l}));var n=r(10),o=r(5),i=r(1);function a(t,e){return n.sharedKey(t,e)}function u(t){return{isAvailable:!0,randomBytes:()=>t}}function c(t){const e=void 0!==t?u(t):void 0,r=n.generateKeyPair(e);return{publicKey:r.publicKey,privateKey:r.secretKey}}function s(t){const e=(null==t?void 0:t.sender)||c();return{privateKey:e.privateKey,publicKey:e.publicKey}}function f(t,e){return a(t,e)}function R(t){return new Uint8Array(t.slice(i.LENGTH_0,i.KEY_LENGTH))}function E(t){return new Uint8Array(t.slice(i.KEY_LENGTH))}function d(t){return Object(o.concatArrays)(t.iv,t.publicKey,t.mac,t.ciphertext)}function l(t){const e=i.LENGTH_0,r=e+i.IV_LENGTH,n=r+i.KEY_LENGTH,o=n+i.MAC_LENGTH,a=t.length;return{iv:t.slice(e,r),publicKey:t.slice(r,n),mac:t.slice(n,o),ciphertext:t.slice(o,a)}}},function(t,e,r){"use strict";(function(t){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.removeHexLeadingZeros=e.sanitizeHex=e.addHexPrefix=e.removeHexPrefix=e.padRight=e.padLeft=e.sanitizeBytes=e.swapHex=e.swapBytes=e.splitBytes=e.calcByteLength=e.trimRight=e.trimLeft=e.concatArrays=e.concatBuffers=e.getEncoding=e.getType=e.isArrayBuffer=e.isTypedArray=e.isBuffer=e.isHexString=e.isBinaryString=e.binaryToNumber=e.binaryToUtf8=e.binaryToHex=e.binaryToArray=e.binaryToBuffer=e.numberToBinary=e.numberToUtf8=e.numberToHex=e.numberToArray=e.numberToBuffer=e.utf8ToBinary=e.utf8ToNumber=e.utf8ToHex=e.utf8ToArray=e.utf8ToBuffer=e.hexToBinary=e.hexToNumber=e.hexToUtf8=e.hexToArray=e.hexToBuffer=e.arrayToBinary=e.arrayToNumber=e.arrayToUtf8=e.arrayToHex=e.arrayToBuffer=e.bufferToBinary=e.bufferToNumber=e.bufferToUtf8=e.bufferToHex=e.bufferToArray=void 0;const o=n(r(22)),i=n(r(35));function a(t){return new Uint8Array(t)}function u(t,e=!1){const r=t.toString("hex");return e?Y(r):r}function c(t){return t.toString("utf8")}function s(t){return t.readUIntBE(0,t.length)}function f(t){return i.default(t)}function R(t,e=!1){return u(f(t),e)}function E(t){return c(f(t))}function d(t){return s(f(t))}function l(t){return Array.from(t).map(T).join("")}function h(e){return t.from(M(e),"hex")}function _(t){return a(h(t))}function y(t){return l(_(t))}function p(e){return t.from(e,"utf8")}function O(t){return a(p(t))}function T(t){return D((t>>>0).toString(2))}function g(t){return f(S(t))}function S(t){return new Uint8Array(w(t).map(t=>parseInt(t,2)))}function v(t,e){return R(S(t),e)}function P(t){return!("string"!=typeof t||!new RegExp(/^[01]+$/).test(t))&&t.length%8==0}function A(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function m(e){return t.isBuffer(e)}function N(t){return o.default.strict(t)&&!m(t)}function I(t){return!N(t)&&!m(t)&&void 0!==t.byteLength}function b(t,e=8){const r=t%e;return r?(t-r)/e*e+e:t}function w(t,e=8){const r=D(t).match(new RegExp(`.{${e}}`,"gi"));return Array.from(r||[])}function U(t){return w(t).map(L).join("")}function D(t,e=8,r="0"){return C(t,b(t.length,e),r)}function C(t,e,r="0"){return H(t,e,!0,r)}function M(t){return t.replace(/^0x/,"")}function Y(t){return t.startsWith("0x")?t:"0x"+t}function L(t){return t.split("").reverse().join("")}function H(t,e,r,n="0"){const o=e-t.length;let i=t;if(o>0){const e=n.repeat(o);i=r?e+t:t+e}return i}e.bufferToArray=a,e.bufferToHex=u,e.bufferToUtf8=c,e.bufferToNumber=s,e.bufferToBinary=function(t){return l(a(t))},e.arrayToBuffer=f,e.arrayToHex=R,e.arrayToUtf8=E,e.arrayToNumber=d,e.arrayToBinary=l,e.hexToBuffer=h,e.hexToArray=_,e.hexToUtf8=function(t){return c(h(t))},e.hexToNumber=function(t){return d(_(t))},e.hexToBinary=y,e.utf8ToBuffer=p,e.utf8ToArray=O,e.utf8ToHex=function(t,e=!1){return u(p(t),e)},e.utf8ToNumber=function(t){const e=parseInt(t,10);return function(t,e){if(!t)throw new Error(e)}(!function(t){return void 0===t}(e),"Number can only safely store up to 53 bits"),e},e.utf8ToBinary=function(t){return l(O(t))},e.numberToBuffer=function(t){return g(T(t))},e.numberToArray=function(t){return S(T(t))},e.numberToHex=function(t,e){return v(T(t),e)},e.numberToUtf8=function(t){return""+t},e.numberToBinary=T,e.binaryToBuffer=g,e.binaryToArray=S,e.binaryToHex=v,e.binaryToUtf8=function(t){return E(S(t))},e.binaryToNumber=function(t){return d(S(t))},e.isBinaryString=P,e.isHexString=A,e.isBuffer=m,e.isTypedArray=N,e.isArrayBuffer=I,e.getType=function(t){return m(t)?"buffer":N(t)?"typed-array":I(t)?"array-buffer":Array.isArray(t)?"array":typeof t},e.getEncoding=function(t){return P(t)?"binary":A(t)?"hex":"utf8"},e.concatBuffers=function(...e){return t.concat(e)},e.concatArrays=function(...t){let e=[];return t.forEach(t=>e=e.concat(Array.from(t))),new Uint8Array([...e])},e.trimLeft=function(t,e){const r=t.length-e;return r>0&&(t=t.slice(r)),t},e.trimRight=function(t,e){return t.slice(0,e)},e.calcByteLength=b,e.splitBytes=w,e.swapBytes=U,e.swapHex=function(t){return v(U(y(t)))},e.sanitizeBytes=D,e.padLeft=C,e.padRight=function(t,e,r="0"){return H(t,e,!1,r)},e.removeHexPrefix=M,e.addHexPrefix=Y,e.sanitizeHex=function(t){return(t=D(t=M(t),2))&&(t=Y(t)),t},e.removeHexLeadingZeros=function(t){const e=t.startsWith("0x");return t=(t=M(t)).startsWith("0")?t.substring(1):t,e?Y(t):t}}).call(this,r(21).Buffer)},function(t,e,r){"use strict";r.r(e);var n=r(15);for(var o in n)["default"].indexOf(o)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(o);var i=r(16);r.d(e,"pkcs7",(function(){return i.a}));var a=r(17);for(var o in a)["default","pkcs7"].indexOf(o)<0&&function(t){r.d(e,t,(function(){return a[t]}))}(o);var u=r(18);r.d(e,"assert",(function(){return u.a})),r.d(e,"isConstantTime",(function(){return u.b}))},function(t,e,r){"use strict";r.r(e),r.d(e,"__extends",(function(){return o})),r.d(e,"__assign",(function(){return i})),r.d(e,"__rest",(function(){return a})),r.d(e,"__decorate",(function(){return u})),r.d(e,"__param",(function(){return c})),r.d(e,"__metadata",(function(){return s})),r.d(e,"__awaiter",(function(){return f})),r.d(e,"__generator",(function(){return R})),r.d(e,"__createBinding",(function(){return E})),r.d(e,"__exportStar",(function(){return d})),r.d(e,"__values",(function(){return l})),r.d(e,"__read",(function(){return h})),r.d(e,"__spread",(function(){return _})),r.d(e,"__spreadArrays",(function(){return y})),r.d(e,"__await",(function(){return p})),r.d(e,"__asyncGenerator",(function(){return O})),r.d(e,"__asyncDelegator",(function(){return T})),r.d(e,"__asyncValues",(function(){return g})),r.d(e,"__makeTemplateObject",(function(){return S})),r.d(e,"__importStar",(function(){return v})),r.d(e,"__importDefault",(function(){return P})),r.d(e,"__classPrivateFieldGet",(function(){return A})),r.d(e,"__classPrivateFieldSet",(function(){return m}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function o(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var i=function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function u(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function c(t,e){return function(r,n){e(r,n,t)}}function s(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))}function R(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function E(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function d(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function l(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function _(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}function y(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)n[o]=i[a];return n}function p(t){return this instanceof p?(this.v=t,this):new p(t)}function O(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(t){o[t]&&(n[t]=function(e){return new Promise((function(r,n){i.push([t,e,r,n])>1||u(t,e)}))})}function u(t,e){try{(r=o[t](e)).value instanceof p?Promise.resolve(r.value.v).then(c,s):f(i[0][2],r)}catch(t){f(i[0][3],t)}var r}function c(t){u("next",t)}function s(t){u("throw",t)}function f(t,e){t(e),i.shift(),i.length&&u(i[0][0],i[0][1])}}function T(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(r=!r)?{value:p(t[n](e)),done:"return"===n}:o?o(e):e}:o}}function g(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=l(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,o){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,o,(e=t[r](e)).done,e.value)}))}}}function S(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function v(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function P(t){return t&&t.__esModule?t:{default:t}}function A(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function m(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wipe=function(t){for(var e=0;e<t.length;e++)t[e]=0;return t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(36),o=r(9);function i(t){var e=new Float64Array(16);if(t)for(var r=0;r<t.length;r++)e[r]=t[r];return e}e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;var a=new Uint8Array(32);a[0]=9;var u=i([56129,1]);function c(t){for(var e=1,r=0;r<16;r++){var n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-65536*e}t[0]+=e-1+37*(e-1)}function s(t,e,r){for(var n=~(r-1),o=0;o<16;o++){var i=n&(t[o]^e[o]);t[o]^=i,e[o]^=i}}function f(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function R(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function E(t,e,r){var n,o,i=0,a=0,u=0,c=0,s=0,f=0,R=0,E=0,d=0,l=0,h=0,_=0,y=0,p=0,O=0,T=0,g=0,S=0,v=0,P=0,A=0,m=0,N=0,I=0,b=0,w=0,U=0,D=0,C=0,M=0,Y=0,L=r[0],H=r[1],x=r[2],B=r[3],j=r[4],G=r[5],V=r[6],F=r[7],K=r[8],k=r[9],J=r[10],Q=r[11],W=r[12],Z=r[13],$=r[14],q=r[15];i+=(n=e[0])*L,a+=n*H,u+=n*x,c+=n*B,s+=n*j,f+=n*G,R+=n*V,E+=n*F,d+=n*K,l+=n*k,h+=n*J,_+=n*Q,y+=n*W,p+=n*Z,O+=n*$,T+=n*q,a+=(n=e[1])*L,u+=n*H,c+=n*x,s+=n*B,f+=n*j,R+=n*G,E+=n*V,d+=n*F,l+=n*K,h+=n*k,_+=n*J,y+=n*Q,p+=n*W,O+=n*Z,T+=n*$,g+=n*q,u+=(n=e[2])*L,c+=n*H,s+=n*x,f+=n*B,R+=n*j,E+=n*G,d+=n*V,l+=n*F,h+=n*K,_+=n*k,y+=n*J,p+=n*Q,O+=n*W,T+=n*Z,g+=n*$,S+=n*q,c+=(n=e[3])*L,s+=n*H,f+=n*x,R+=n*B,E+=n*j,d+=n*G,l+=n*V,h+=n*F,_+=n*K,y+=n*k,p+=n*J,O+=n*Q,T+=n*W,g+=n*Z,S+=n*$,v+=n*q,s+=(n=e[4])*L,f+=n*H,R+=n*x,E+=n*B,d+=n*j,l+=n*G,h+=n*V,_+=n*F,y+=n*K,p+=n*k,O+=n*J,T+=n*Q,g+=n*W,S+=n*Z,v+=n*$,P+=n*q,f+=(n=e[5])*L,R+=n*H,E+=n*x,d+=n*B,l+=n*j,h+=n*G,_+=n*V,y+=n*F,p+=n*K,O+=n*k,T+=n*J,g+=n*Q,S+=n*W,v+=n*Z,P+=n*$,A+=n*q,R+=(n=e[6])*L,E+=n*H,d+=n*x,l+=n*B,h+=n*j,_+=n*G,y+=n*V,p+=n*F,O+=n*K,T+=n*k,g+=n*J,S+=n*Q,v+=n*W,P+=n*Z,A+=n*$,m+=n*q,E+=(n=e[7])*L,d+=n*H,l+=n*x,h+=n*B,_+=n*j,y+=n*G,p+=n*V,O+=n*F,T+=n*K,g+=n*k,S+=n*J,v+=n*Q,P+=n*W,A+=n*Z,m+=n*$,N+=n*q,d+=(n=e[8])*L,l+=n*H,h+=n*x,_+=n*B,y+=n*j,p+=n*G,O+=n*V,T+=n*F,g+=n*K,S+=n*k,v+=n*J,P+=n*Q,A+=n*W,m+=n*Z,N+=n*$,I+=n*q,l+=(n=e[9])*L,h+=n*H,_+=n*x,y+=n*B,p+=n*j,O+=n*G,T+=n*V,g+=n*F,S+=n*K,v+=n*k,P+=n*J,A+=n*Q,m+=n*W,N+=n*Z,I+=n*$,b+=n*q,h+=(n=e[10])*L,_+=n*H,y+=n*x,p+=n*B,O+=n*j,T+=n*G,g+=n*V,S+=n*F,v+=n*K,P+=n*k,A+=n*J,m+=n*Q,N+=n*W,I+=n*Z,b+=n*$,w+=n*q,_+=(n=e[11])*L,y+=n*H,p+=n*x,O+=n*B,T+=n*j,g+=n*G,S+=n*V,v+=n*F,P+=n*K,A+=n*k,m+=n*J,N+=n*Q,I+=n*W,b+=n*Z,w+=n*$,U+=n*q,y+=(n=e[12])*L,p+=n*H,O+=n*x,T+=n*B,g+=n*j,S+=n*G,v+=n*V,P+=n*F,A+=n*K,m+=n*k,N+=n*J,I+=n*Q,b+=n*W,w+=n*Z,U+=n*$,D+=n*q,p+=(n=e[13])*L,O+=n*H,T+=n*x,g+=n*B,S+=n*j,v+=n*G,P+=n*V,A+=n*F,m+=n*K,N+=n*k,I+=n*J,b+=n*Q,w+=n*W,U+=n*Z,D+=n*$,C+=n*q,O+=(n=e[14])*L,T+=n*H,g+=n*x,S+=n*B,v+=n*j,P+=n*G,A+=n*V,m+=n*F,N+=n*K,I+=n*k,b+=n*J,w+=n*Q,U+=n*W,D+=n*Z,C+=n*$,M+=n*q,T+=(n=e[15])*L,a+=38*(S+=n*x),u+=38*(v+=n*B),c+=38*(P+=n*j),s+=38*(A+=n*G),f+=38*(m+=n*V),R+=38*(N+=n*F),E+=38*(I+=n*K),d+=38*(b+=n*k),l+=38*(w+=n*J),h+=38*(U+=n*Q),_+=38*(D+=n*W),y+=38*(C+=n*Z),p+=38*(M+=n*$),O+=38*(Y+=n*q),i=(n=(i+=38*(g+=n*H))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),s=(n=s+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),R=(n=R+o+65535)-65536*(o=Math.floor(n/65536)),E=(n=E+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),_=(n=_+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),O=(n=O+o+65535)-65536*(o=Math.floor(n/65536)),T=(n=T+o+65535)-65536*(o=Math.floor(n/65536)),i=(n=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),s=(n=s+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),R=(n=R+o+65535)-65536*(o=Math.floor(n/65536)),E=(n=E+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),_=(n=_+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),O=(n=O+o+65535)-65536*(o=Math.floor(n/65536)),T=(n=T+o+65535)-65536*(o=Math.floor(n/65536)),i+=o-1+37*(o-1),t[0]=i,t[1]=a,t[2]=u,t[3]=c,t[4]=s,t[5]=f,t[6]=R,t[7]=E,t[8]=d,t[9]=l,t[10]=h,t[11]=_,t[12]=y,t[13]=p,t[14]=O,t[15]=T}function d(t,e){E(t,e,e)}function l(t,e){for(var r=new Uint8Array(32),n=new Float64Array(80),o=i(),a=i(),l=i(),h=i(),_=i(),y=i(),p=0;p<31;p++)r[p]=t[p];r[31]=127&t[31]|64,r[0]&=248,function(t,e){for(var r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}(n,e);for(p=0;p<16;p++)a[p]=n[p];o[0]=h[0]=1;for(p=254;p>=0;--p){var O=r[p>>>3]>>>(7&p)&1;s(o,a,O),s(l,h,O),f(_,o,l),R(o,o,l),f(l,a,h),R(a,a,h),d(h,_),d(y,o),E(o,l,o),E(l,a,_),f(_,o,l),R(o,o,l),d(a,o),R(l,h,y),E(o,l,u),f(o,o,h),E(l,l,o),E(o,h,y),E(h,a,n),d(a,_),s(o,a,O),s(l,h,O)}for(p=0;p<16;p++)n[p+16]=o[p],n[p+32]=l[p],n[p+48]=a[p],n[p+64]=h[p];var T=n.subarray(32),g=n.subarray(16);!function(t,e){for(var r=i(),n=0;n<16;n++)r[n]=e[n];for(n=253;n>=0;n--)d(r,r),2!==n&&4!==n&&E(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}(T,T),E(g,g,T);var S=new Uint8Array(32);return function(t,e){for(var r=i(),n=i(),o=0;o<16;o++)n[o]=e[o];c(n),c(n),c(n);for(var a=0;a<2;a++){r[0]=n[0]-65517;for(o=1;o<15;o++)r[o]=n[o]-65535-(r[o-1]>>16&1),r[o-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);var u=r[15]>>16&1;r[14]&=65535,s(n,r,1-u)}for(o=0;o<16;o++)t[2*o]=255&n[o],t[2*o+1]=n[o]>>8}(S,g),S}function h(t){return l(t,a)}function _(t){if(t.length!==e.SECRET_KEY_LENGTH)throw new Error("x25519: seed must be "+e.SECRET_KEY_LENGTH+" bytes");var r=new Uint8Array(t);return{publicKey:h(r),secretKey:r}}e.scalarMult=l,e.scalarMultBase=h,e.generateKeyPairFromSeed=_,e.generateKeyPair=function(t){var e=n.randomBytes(32,t),r=_(e);return o.wipe(e),r},e.sharedKey=function(t,r,n){if(void 0===n&&(n=!1),t.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(r.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");var o=l(t,r);if(n){for(var i=0,a=0;a<o.length;a++)i|=o[a];if(0===i)throw new Error("X25519: invalid shared key")}return o}},function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(2);function o(t){return n.getBrowerCrypto().getRandomValues(new Uint8Array(t))}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var c,s=[],f=!1,R=-1;function E(){f&&c&&(f=!1,c.length?s=c.concat(s):R=-1,s.length&&d())}function d(){if(!f){var t=u(E);f=!0;for(var e=s.length;e;){for(c=s,s=[];++R<e;)c&&c[R].run();R=-1,e=s.length}c=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function l(t,e){this.fun=t,this.array=e}function h(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];s.push(new l(t,e)),1!==s.length||f||u(d)},l.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return i}));var n=r(3);function o(t,e,r){return Object(n.b)(t,e,r)}function i(t,e,r){return Object(n.a)(t,e,r)}},function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return u})),r.d(e,"d",(function(){return c}));var n=r(3),o=r(6);async function i(t,e){return await Object(n.c)(t,e)}async function a(t,e,r){const i=await Object(n.c)(t,e);return Object(o.isConstantTime)(i,r)}async function u(t,e){return await Object(n.d)(t,e)}async function c(t,e,r){const i=await Object(n.d)(t,e);return Object(o.isConstantTime)(i,r)}},function(t,e,r){"use strict";r.r(e);var n=r(2);for(var o in n)["default"].indexOf(o)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(o)},function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));const n=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]],o={pad(t){const e=n[t.byteLength%16||0],r=new Uint8Array(t.byteLength+e.length);return r.set(t),r.set(e,t.byteLength),r},unpad:t=>t.subarray(0,t.byteLength-t[t.byteLength-1])}},function(t,e){},function(t,e,r){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function o(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return 0===r}r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return o}))},function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return a}));var n=r(3);async function o(t){return await Object(n.e)(t)}async function i(t){return await Object(n.f)(t)}async function a(t){throw new Error("Not supported for Browser async methods, use sync instead!")}},function(t,e,r){"use strict";r.d(e,"d",(function(){return u})),r.d(e,"c",(function(){return c})),r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return f}));var n=r(1),o=r(5),i=r(4);async function a(t){const e=await Object(n.sha512)(t);return{encryptionKey:Object(i.e)(e),macKey:Object(i.f)(e)}}async function u(t,e,r,u=Object(n.randomBytes)(n.IV_LENGTH)){const{encryptionKey:c,macKey:s}=await a(e),f=await Object(n.aesCbcEncrypt)(u,c,t),R=Object(o.concatArrays)(u,r,f),E=await Object(n.hmacSha256Sign)(s,R);return Object(i.i)({iv:u,publicKey:r,ciphertext:f,mac:E})}async function c(t,e,r){const{publicKey:n,privateKey:o}=Object(i.g)(r);return u(t,Object(i.h)(o,e),n,null==r?void 0:r.iv)}async function s(t,e){const{iv:r,publicKey:u,mac:c,ciphertext:s}=Object(i.b)(t),{encryptionKey:f,macKey:R}=await a(e),E=Object(o.concatArrays)(r,u,s),d=await Object(n.hmacSha256Verify)(R,E,c);Object(n.assert)(d,n.ERROR_BAD_MAC);return await Object(n.aesCbcDecrypt)(r,f,s)}async function f(t,e){const{publicKey:r}=Object(i.b)(t);return s(t,Object(i.h)(e,r))}},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(32),o=r(33),i=r(34);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return R(this,t)}return s(this,t,e,r)}function s(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=E(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|l(e,r),o=(t=u(t,n)).write(e,r);o!==n&&(t=t.slice(0,o));return t}(t,e,r):function(t,e){if(c.isBuffer(e)){var r=0|d(e.length);return 0===(t=u(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?u(t,0):E(t,e);if("Buffer"===e.type&&i(e.data))return E(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function R(t,e){if(f(e),t=u(t,e<0?0:0|d(e)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function E(t,e){var r=e.length<0?0:0|d(e.length);t=u(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function l(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(t).length;default:if(n)return j(t).length;e=(""+e).toLowerCase(),n=!0}}function h(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return b(this,e,r);case"utf8":case"utf-8":return m(this,e,r);case"ascii":return N(this,e,r);case"latin1":case"binary":return I(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:p(t,e,r,n,o);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):p(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function p(t,e,r,n,o){var i,a=1,u=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,u/=2,c/=2,r/=2}function s(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var f=-1;for(i=r;i<u;i++)if(s(t,i)===s(e,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===c)return f*a}else-1!==f&&(i-=i-f),f=-1}else for(r+c>u&&(r=u-c),i=r;i>=0;i--){for(var R=!0,E=0;E<c;E++)if(s(t,i+E)!==s(e,E)){R=!1;break}if(R)return i}return-1}function O(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))return a;t[r+a]=u}return a}function T(t,e,r,n){return V(j(e,t.length-r),t,r,n)}function g(t,e,r,n){return V(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function S(t,e,r,n){return g(t,e,r,n)}function v(t,e,r,n){return V(G(e),t,r,n)}function P(t,e,r,n){return V(function(t,e){for(var r,n,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function A(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function m(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,a,u,c,s=t[o],f=null,R=s>239?4:s>223?3:s>191?2:1;if(o+R<=r)switch(R){case 1:s<128&&(f=s);break;case 2:128==(192&(i=t[o+1]))&&(c=(31&s)<<6|63&i)>127&&(f=c);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(c=(15&s)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(f=c);break;case 4:i=t[o+1],a=t[o+2],u=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&u)&&(c=(15&s)<<18|(63&i)<<12|(63&a)<<6|63&u)>65535&&c<1114112&&(f=c)}null===f?(f=65533,R=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),o+=R}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,r){return s(null,t,e,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,r){return function(t,e,r,n){return f(e),e<=0?u(t,e):void 0!==r?"string"==typeof n?u(t,e).fill(r,n):u(t,e).fill(r):u(t,e)}(null,t,e,r)},c.allocUnsafe=function(t){return R(null,t)},c.allocUnsafeSlow=function(t){return R(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=c.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var a=t[r];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},c.byteLength=l,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?m(this,0,t):h.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,r,n,o){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),u=Math.min(i,a),s=this.slice(n,o),f=t.slice(e,r),R=0;R<u;++R)if(s[R]!==f[R]){i=s[R],a=f[R];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return O(this,t,e,r);case"utf8":case"utf-8":return T(this,t,e,r);case"ascii":return g(this,t,e,r);case"latin1":case"binary":return S(this,t,e,r);case"base64":return v(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function I(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function b(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=B(t[i]);return o}function w(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function U(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,r,n,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function C(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);o<i;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function M(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);o<i;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function Y(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(t,e,r,n,i){return i||Y(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function H(t,e,r,n,i){return i||Y(t,0,r,8),o.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=c.prototype;else{var o=e-t;r=new c(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},c.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||U(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},c.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||U(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},c.prototype.readUInt8=function(t,e){return e||U(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||U(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||U(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||U(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||U(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||U(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return e||U(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||U(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){e||U(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return e||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||U(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||U(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||U(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||U(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||D(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},c.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||D(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},c.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):C(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):C(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);D(this,t,e,r,o-1,-o)}var i=0,a=1,u=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&0===u&&0!==this[e+i-1]&&(u=1),this[e+i]=(t/a>>0)-u&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);D(this,t,e,r,o-1,-o)}var i=r-1,a=1,u=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===u&&0!==this[e+i+1]&&(u=1),this[e+i]=(t/a>>0)-u&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):C(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):C(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,r){return L(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return L(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return H(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return H(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&r<e&&e<n)for(o=i-1;o>=0;--o)t[o+e]=this[o+r];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},c.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var a=c.isBuffer(t)?t:j(new c(t,n).toString()),u=a.length;for(i=0;i<r-e;++i)this[i+e]=a[i%u]}return this};var x=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function G(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(x,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}}).call(this,r(8))},function(t,e){t.exports=o,o.strict=i,o.loose=a;var r=Object.prototype.toString,n={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function o(t){return i(t)||a(t)}function i(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function a(t){return n[r.call(t)]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR=e.ERROR_TYPE=void 0;const n=r(24);e.ERROR_TYPE=n.enumify({GENERIC:"GENERIC",MISSING_OR_INVALID:"MISSING_OR_INVALID",MISSING_RESPONSE:"MISSING_RESPONSE",MISSING_DECRYPT_PARAMS:"MISSING_DECRYPT_PARAMS",INVALID_UPDATE_REQUEST:"INVALID_UPDATE_REQUEST",INVALID_UPGRADE_REQUEST:"INVALID_UPGRADE_REQUEST",INVALID_STORAGE_KEY_NAME:"INVALID_STORAGE_KEY_NAME",RECORD_ALREADY_EXISTS:"RECORD_ALREADY_EXISTS",RESTORE_WILL_OVERRIDE:"RESTORE_WILL_OVERRIDE",NO_MATCHING_ID:"NO_MATCHING_ID",NO_MATCHING_TOPIC:"NO_MATCHING_TOPIC",NO_MATCHING_RESPONSE:"NO_MATCHING_RESPONSE",NO_MATCHING_KEY:"NO_MATCHING_KEY",UNKNOWN_JSONRPC_METHOD:"UNKNOWN_JSONRPC_METHOD",MISMATCHED_TOPIC:"MISMATCHED_TOPIC",MISMATCHED_ACCOUNTS:"MISMATCHED_ACCOUNTS",SETTLED:"SETTLED",NOT_APPROVED:"NOT_APPROVED",PROPOSAL_RESPONDED:"PROPOSAL_RESPONDED",RESPONSE_ACKNOWLEDGED:"RESPONSE_ACKNOWLEDGED",EXPIRED:"EXPIRED",DELETED:"DELETED",RESUBSCRIBED:"RESUBSCRIBED",SETTLE_TIMEOUT:"SETTLE_TIMEOUT",JSONRPC_REQUEST_TIMEOUT:"JSONRPC_REQUEST_TIMEOUT",UNAUTHORIZED_TARGET_CHAIN:"UNAUTHORIZED_TARGET_CHAIN",UNAUTHORIZED_JSON_RPC_METHOD:"UNAUTHORIZED_JSON_RPC_METHOD",UNAUTHORIZED_NOTIFICATION_TYPE:"UNAUTHORIZED_NOTIFICATION_TYPE",UNAUTHORIZED_UPDATE_REQUEST:"UNAUTHORIZED_UPDATE_REQUEST",UNAUTHORIZED_UPGRADE_REQUEST:"UNAUTHORIZED_UPGRADE_REQUEST",UNAUTHORIZED_MATCHING_CONTROLLER:"UNAUTHORIZED_MATCHING_CONTROLLER",JSONRPC_REQUEST_METHOD_REJECTED:"JSONRPC_REQUEST_METHOD_REJECTED",JSONRPC_REQUEST_METHOD_UNAUTHORIZED:"JSONRPC_REQUEST_METHOD_UNAUTHORIZED",JSONRPC_REQUEST_METHOD_UNSUPPORTED:"JSONRPC_REQUEST_METHOD_UNSUPPORTED",DISCONNECTED_ALL_CHAINS:"DISCONNECTED_ALL_CHAINS",DISCONNECTED_TARGET_CHAIN:"DISCONNECTED_TARGET_CHAIN",DISAPPROVED_CHAINS:"DISAPPROVED_CHAINS",DISAPPROVED_JSONRPC:"DISAPPROVED_JSONRPC",DISAPPROVED_NOTIFICATION:"DISAPPROVED_NOTIFICATION",UNSUPPORTED_CHAINS:"UNSUPPORTED_CHAINS",UNSUPPORTED_JSONRPC:"UNSUPPORTED_JSONRPC",UNSUPPORTED_NOTIFICATION:"UNSUPPORTED_NOTIFICATION",UNSUPPORTED_SIGNAL:"UNSUPPORTED_SIGNAL",USER_DISCONNECTED:"USER_DISCONNECTED",UNKNOWN:"UNKNOWN"});const o="undefined",i="Something went wrong",a="parameter",u="session",c="Ethereum";e.ERROR={[e.ERROR_TYPE.GENERIC]:{type:e.ERROR_TYPE.GENERIC,code:0,stringify:t=>(null==t?void 0:t.message)||i,format:t=>({code:e.ERROR[e.ERROR_TYPE.GENERIC].code,message:e.ERROR[e.ERROR_TYPE.GENERIC].stringify(t)})},[e.ERROR_TYPE.MISSING_OR_INVALID]:{type:e.ERROR_TYPE.MISSING_OR_INVALID,code:1e3,stringify:t=>"Missing or invalid "+((null==t?void 0:t.name)||a),format:t=>({code:e.ERROR[e.ERROR_TYPE.MISSING_OR_INVALID].code,message:e.ERROR[e.ERROR_TYPE.MISSING_OR_INVALID].stringify(t)})},[e.ERROR_TYPE.MISSING_RESPONSE]:{type:e.ERROR_TYPE.MISSING_RESPONSE,code:1001,stringify:t=>`Response is required for approved ${(null==t?void 0:t.context)||u} proposals`,format:t=>({code:e.ERROR[e.ERROR_TYPE.MISSING_RESPONSE].code,message:e.ERROR[e.ERROR_TYPE.MISSING_RESPONSE].stringify(t)})},[e.ERROR_TYPE.MISSING_DECRYPT_PARAMS]:{type:e.ERROR_TYPE.MISSING_DECRYPT_PARAMS,code:1002,stringify:t=>"Decrypt params required for "+((null==t?void 0:t.context)||u),format:t=>({code:e.ERROR[e.ERROR_TYPE.MISSING_DECRYPT_PARAMS].code,message:e.ERROR[e.ERROR_TYPE.MISSING_DECRYPT_PARAMS].stringify(t)})},[e.ERROR_TYPE.INVALID_UPDATE_REQUEST]:{type:e.ERROR_TYPE.INVALID_UPDATE_REQUEST,code:1003,stringify:t=>`Invalid ${(null==t?void 0:t.context)||u} update request`,format:t=>({code:e.ERROR[e.ERROR_TYPE.INVALID_UPDATE_REQUEST].code,message:e.ERROR[e.ERROR_TYPE.INVALID_UPDATE_REQUEST].stringify(t)})},[e.ERROR_TYPE.INVALID_UPGRADE_REQUEST]:{type:e.ERROR_TYPE.INVALID_UPGRADE_REQUEST,code:1004,stringify:t=>`Invalid ${(null==t?void 0:t.context)||u} upgrade request`,format:t=>({code:e.ERROR[e.ERROR_TYPE.INVALID_UPGRADE_REQUEST].code,message:e.ERROR[e.ERROR_TYPE.INVALID_UPGRADE_REQUEST].stringify(t)})},[e.ERROR_TYPE.INVALID_STORAGE_KEY_NAME]:{type:e.ERROR_TYPE.INVALID_STORAGE_KEY_NAME,code:1005,stringify:t=>"Invalid storage key name: "+((null==t?void 0:t.name)||a),format:t=>({code:e.ERROR[e.ERROR_TYPE.INVALID_STORAGE_KEY_NAME].code,message:e.ERROR[e.ERROR_TYPE.INVALID_STORAGE_KEY_NAME].stringify(t)})},[e.ERROR_TYPE.RECORD_ALREADY_EXISTS]:{type:e.ERROR_TYPE.RECORD_ALREADY_EXISTS,code:1100,stringify:t=>`Record already exists for ${(null==t?void 0:t.context)||u} matching id: ${null==t?void 0:t.id}`,format:t=>({code:e.ERROR[e.ERROR_TYPE.RECORD_ALREADY_EXISTS].code,message:e.ERROR[e.ERROR_TYPE.RECORD_ALREADY_EXISTS].stringify(t)})},[e.ERROR_TYPE.RESTORE_WILL_OVERRIDE]:{type:e.ERROR_TYPE.RESTORE_WILL_OVERRIDE,code:1200,stringify:t=>"Restore will override already set "+((null==t?void 0:t.context)||u),format:t=>({code:e.ERROR[e.ERROR_TYPE.RESTORE_WILL_OVERRIDE].code,message:e.ERROR[e.ERROR_TYPE.RESTORE_WILL_OVERRIDE].stringify(t)})},[e.ERROR_TYPE.NO_MATCHING_ID]:{type:e.ERROR_TYPE.NO_MATCHING_ID,code:1300,stringify:t=>`No matching ${(null==t?void 0:t.context)||u} with id: ${null==t?void 0:t.id}`,format:t=>({code:e.ERROR[e.ERROR_TYPE.NO_MATCHING_ID].code,message:e.ERROR[e.ERROR_TYPE.NO_MATCHING_ID].stringify(t)})},[e.ERROR_TYPE.NO_MATCHING_TOPIC]:{type:e.ERROR_TYPE.NO_MATCHING_TOPIC,code:1301,stringify:t=>`No matching ${(null==t?void 0:t.context)||u} with topic: ${null==t?void 0:t.topic}`,format:t=>({code:e.ERROR[e.ERROR_TYPE.NO_MATCHING_TOPIC].code,message:e.ERROR[e.ERROR_TYPE.NO_MATCHING_TOPIC].stringify(t)})},[e.ERROR_TYPE.NO_MATCHING_RESPONSE]:{type:e.ERROR_TYPE.NO_MATCHING_RESPONSE,code:1302,stringify:t=>`No response found in pending ${(null==t?void 0:t.context)||u} proposal`,format:t=>({code:e.ERROR[e.ERROR_TYPE.NO_MATCHING_RESPONSE].code,message:e.ERROR[e.ERROR_TYPE.NO_MATCHING_RESPONSE].stringify(t)})},[e.ERROR_TYPE.NO_MATCHING_KEY]:{type:e.ERROR_TYPE.NO_MATCHING_KEY,code:1303,stringify:t=>"No matching key with tag: "+(null==t?void 0:t.tag),format:t=>({code:e.ERROR[e.ERROR_TYPE.NO_MATCHING_KEY].code,message:e.ERROR[e.ERROR_TYPE.NO_MATCHING_KEY].stringify(t)})},[e.ERROR_TYPE.UNKNOWN_JSONRPC_METHOD]:{type:e.ERROR_TYPE.UNKNOWN_JSONRPC_METHOD,code:1400,stringify:t=>"Unknown JSON-RPC Method Requested: "+(null==t?void 0:t.method),format:t=>({code:e.ERROR[e.ERROR_TYPE.UNKNOWN_JSONRPC_METHOD].code,message:e.ERROR[e.ERROR_TYPE.UNKNOWN_JSONRPC_METHOD].stringify(t)})},[e.ERROR_TYPE.MISMATCHED_TOPIC]:{type:e.ERROR_TYPE.MISMATCHED_TOPIC,code:1500,stringify:t=>`Mismatched topic for ${(null==t?void 0:t.context)||u} with id: ${null==t?void 0:t.id}`,format:t=>({code:e.ERROR[e.ERROR_TYPE.MISMATCHED_TOPIC].code,message:e.ERROR[e.ERROR_TYPE.MISMATCHED_TOPIC].stringify(t)})},[e.ERROR_TYPE.MISMATCHED_ACCOUNTS]:{type:e.ERROR_TYPE.MISMATCHED_ACCOUNTS,code:1501,stringify:t=>"Invalid accounts with mismatched chains: "+(null==t?void 0:t.mismatched.toString()),format:t=>({code:e.ERROR[e.ERROR_TYPE.MISMATCHED_ACCOUNTS].code,message:e.ERROR[e.ERROR_TYPE.MISMATCHED_ACCOUNTS].stringify(t)})},[e.ERROR_TYPE.SETTLED]:{type:e.ERROR_TYPE.SETTLED,code:1600,stringify:t=>n.capitalize((null==t?void 0:t.context)||u)+" settled",format:t=>({code:e.ERROR[e.ERROR_TYPE.SETTLED].code,message:e.ERROR[e.ERROR_TYPE.SETTLED].stringify(t)})},[e.ERROR_TYPE.NOT_APPROVED]:{type:e.ERROR_TYPE.NOT_APPROVED,code:1601,stringify:t=>n.capitalize((null==t?void 0:t.context)||u)+" not approved",format:t=>({code:e.ERROR[e.ERROR_TYPE.NOT_APPROVED].code,message:e.ERROR[e.ERROR_TYPE.NOT_APPROVED].stringify(t)})},[e.ERROR_TYPE.PROPOSAL_RESPONDED]:{type:e.ERROR_TYPE.PROPOSAL_RESPONDED,code:1602,stringify:t=>n.capitalize((null==t?void 0:t.context)||u)+" proposal responded",format:t=>({code:e.ERROR[e.ERROR_TYPE.PROPOSAL_RESPONDED].code,message:e.ERROR[e.ERROR_TYPE.PROPOSAL_RESPONDED].stringify(t)})},[e.ERROR_TYPE.RESPONSE_ACKNOWLEDGED]:{type:e.ERROR_TYPE.RESPONSE_ACKNOWLEDGED,code:1603,stringify:t=>n.capitalize((null==t?void 0:t.context)||u)+" response acknowledge",format:t=>({code:e.ERROR[e.ERROR_TYPE.RESPONSE_ACKNOWLEDGED].code,message:e.ERROR[e.ERROR_TYPE.RESPONSE_ACKNOWLEDGED].stringify(t)})},[e.ERROR_TYPE.EXPIRED]:{type:e.ERROR_TYPE.EXPIRED,code:1604,stringify:t=>n.capitalize((null==t?void 0:t.context)||u)+" expired",format:t=>({code:e.ERROR[e.ERROR_TYPE.EXPIRED].code,message:e.ERROR[e.ERROR_TYPE.EXPIRED].stringify(t)})},[e.ERROR_TYPE.DELETED]:{type:e.ERROR_TYPE.DELETED,code:1605,stringify:t=>n.capitalize((null==t?void 0:t.context)||u)+" deleted",format:t=>({code:e.ERROR[e.ERROR_TYPE.DELETED].code,message:e.ERROR[e.ERROR_TYPE.DELETED].stringify(t)})},[e.ERROR_TYPE.RESUBSCRIBED]:{type:e.ERROR_TYPE.RESUBSCRIBED,code:1606,stringify:t=>"Subscription resubscribed with topic: "+(t.topic||o),format:t=>({code:e.ERROR[e.ERROR_TYPE.RESUBSCRIBED].code,message:e.ERROR[e.ERROR_TYPE.RESUBSCRIBED].stringify(t)})},[e.ERROR_TYPE.SETTLE_TIMEOUT]:{type:e.ERROR_TYPE.SETTLE_TIMEOUT,code:2e3,stringify:t=>`${n.capitalize((null==t?void 0:t.context)||u)} failed to settle after ${n.fromMiliseconds(null==t?void 0:t.timeout)} seconds`,format:t=>({code:e.ERROR[e.ERROR_TYPE.SETTLE_TIMEOUT].code,message:e.ERROR[e.ERROR_TYPE.SETTLE_TIMEOUT].stringify(t)})},[e.ERROR_TYPE.JSONRPC_REQUEST_TIMEOUT]:{type:e.ERROR_TYPE.JSONRPC_REQUEST_TIMEOUT,code:2001,stringify:t=>`JSON-RPC Request timeout after ${n.fromMiliseconds(null==t?void 0:t.timeout)} seconds: ${null==t?void 0:t.method}`,format:t=>({code:e.ERROR[e.ERROR_TYPE.JSONRPC_REQUEST_TIMEOUT].code,message:e.ERROR[e.ERROR_TYPE.JSONRPC_REQUEST_TIMEOUT].stringify(t)})},[e.ERROR_TYPE.UNAUTHORIZED_TARGET_CHAIN]:{type:e.ERROR_TYPE.UNAUTHORIZED_TARGET_CHAIN,code:3e3,stringify:t=>"Unauthorized Target ChainId Requested: "+(null==t?void 0:t.chainId),format:t=>({code:e.ERROR[e.ERROR_TYPE.UNAUTHORIZED_TARGET_CHAIN].code,message:e.ERROR[e.ERROR_TYPE.UNAUTHORIZED_TARGET_CHAIN].stringify(t)})},[e.ERROR_TYPE.UNAUTHORIZED_JSON_RPC_METHOD]:{type:e.ERROR_TYPE.UNAUTHORIZED_JSON_RPC_METHOD,code:3001,stringify:t=>"Unauthorized JSON-RPC Method Requested: "+(null==t?void 0:t.method),format:t=>({code:e.ERROR[e.ERROR_TYPE.UNAUTHORIZED_JSON_RPC_METHOD].code,message:e.ERROR[e.ERROR_TYPE.UNAUTHORIZED_JSON_RPC_METHOD].stringify(t)})},[e.ERROR_TYPE.UNAUTHORIZED_NOTIFICATION_TYPE]:{type:e.ERROR_TYPE.UNAUTHORIZED_NOTIFICATION_TYPE,code:3002,stringify:t=>"Unauthorized Notification Type Requested: "+(null==t?void 0:t.type),format:t=>({code:e.ERROR[e.ERROR_TYPE.UNAUTHORIZED_NOTIFICATION_TYPE].code,message:e.ERROR[e.ERROR_TYPE.UNAUTHORIZED_NOTIFICATION_TYPE].stringify(t)})},[e.ERROR_TYPE.UNAUTHORIZED_UPDATE_REQUEST]:{type:e.ERROR_TYPE.UNAUTHORIZED_UPDATE_REQUEST,code:3003,stringify:t=>`Unauthorized ${(null==t?void 0:t.context)||u} update request`,format:t=>({code:e.ERROR[e.ERROR_TYPE.UNAUTHORIZED_UPDATE_REQUEST].code,message:e.ERROR[e.ERROR_TYPE.UNAUTHORIZED_UPDATE_REQUEST].stringify(t)})},[e.ERROR_TYPE.UNAUTHORIZED_UPGRADE_REQUEST]:{type:e.ERROR_TYPE.UNAUTHORIZED_UPGRADE_REQUEST,code:3004,stringify:t=>`Unauthorized ${(null==t?void 0:t.context)||u} upgrade request`,format:t=>({code:e.ERROR[e.ERROR_TYPE.UNAUTHORIZED_UPGRADE_REQUEST].code,message:e.ERROR[e.ERROR_TYPE.UNAUTHORIZED_UPGRADE_REQUEST].stringify(t)})},[e.ERROR_TYPE.UNAUTHORIZED_MATCHING_CONTROLLER]:{type:e.ERROR_TYPE.UNAUTHORIZED_MATCHING_CONTROLLER,code:3005,stringify:t=>`Unauthorized: peer is also ${(null==t?void 0:t.controller)?"":"not "}controller`,format:t=>({code:e.ERROR[e.ERROR_TYPE.UNAUTHORIZED_MATCHING_CONTROLLER].code,message:e.ERROR[e.ERROR_TYPE.UNAUTHORIZED_MATCHING_CONTROLLER].stringify(t)})},[e.ERROR_TYPE.JSONRPC_REQUEST_METHOD_REJECTED]:{type:e.ERROR_TYPE.JSONRPC_REQUEST_METHOD_REJECTED,code:4001,stringify:t=>"User rejected the request.",format:t=>({code:e.ERROR[e.ERROR_TYPE.JSONRPC_REQUEST_METHOD_REJECTED].code,message:e.ERROR[e.ERROR_TYPE.JSONRPC_REQUEST_METHOD_REJECTED].stringify(t)})},[e.ERROR_TYPE.JSONRPC_REQUEST_METHOD_UNAUTHORIZED]:{type:e.ERROR_TYPE.JSONRPC_REQUEST_METHOD_UNAUTHORIZED,code:4100,stringify:t=>"The requested account and/or method has not been authorized by the user.",format:t=>({code:e.ERROR[e.ERROR_TYPE.JSONRPC_REQUEST_METHOD_UNAUTHORIZED].code,message:e.ERROR[e.ERROR_TYPE.JSONRPC_REQUEST_METHOD_UNAUTHORIZED].stringify(t)})},[e.ERROR_TYPE.JSONRPC_REQUEST_METHOD_UNSUPPORTED]:{type:e.ERROR_TYPE.JSONRPC_REQUEST_METHOD_UNSUPPORTED,code:4200,stringify:t=>`The requested method is not supported by this ${(null==t?void 0:t.blockhain)||c} provider.`,format:t=>({code:e.ERROR[e.ERROR_TYPE.JSONRPC_REQUEST_METHOD_UNSUPPORTED].code,message:e.ERROR[e.ERROR_TYPE.JSONRPC_REQUEST_METHOD_UNSUPPORTED].stringify(t)})},[e.ERROR_TYPE.DISCONNECTED_ALL_CHAINS]:{type:e.ERROR_TYPE.DISCONNECTED_ALL_CHAINS,code:4900,stringify:t=>"The provider is disconnected from all chains.",format:t=>({code:e.ERROR[e.ERROR_TYPE.DISCONNECTED_ALL_CHAINS].code,message:e.ERROR[e.ERROR_TYPE.DISCONNECTED_ALL_CHAINS].stringify(t)})},[e.ERROR_TYPE.DISCONNECTED_TARGET_CHAIN]:{type:e.ERROR_TYPE.DISCONNECTED_TARGET_CHAIN,code:4901,stringify:t=>"The provider is disconnected from the specified chain.",format:t=>({code:e.ERROR[e.ERROR_TYPE.DISCONNECTED_TARGET_CHAIN].code,message:e.ERROR[e.ERROR_TYPE.DISCONNECTED_TARGET_CHAIN].stringify(t)})},[e.ERROR_TYPE.DISAPPROVED_CHAINS]:{type:e.ERROR_TYPE.DISAPPROVED_CHAINS,code:5e3,stringify:t=>"User disapproved requested chains",format:t=>({code:e.ERROR[e.ERROR_TYPE.DISAPPROVED_CHAINS].code,message:e.ERROR[e.ERROR_TYPE.DISAPPROVED_CHAINS].stringify(t)})},[e.ERROR_TYPE.DISAPPROVED_JSONRPC]:{type:e.ERROR_TYPE.DISAPPROVED_JSONRPC,code:5001,stringify:t=>"User disapproved requested json-rpc methods",format:t=>({code:e.ERROR[e.ERROR_TYPE.DISAPPROVED_JSONRPC].code,message:e.ERROR[e.ERROR_TYPE.DISAPPROVED_JSONRPC].stringify(t)})},[e.ERROR_TYPE.DISAPPROVED_NOTIFICATION]:{type:e.ERROR_TYPE.DISAPPROVED_NOTIFICATION,code:5002,stringify:t=>"User disapproved requested notification types",format:t=>({code:e.ERROR[e.ERROR_TYPE.DISAPPROVED_NOTIFICATION].code,message:e.ERROR[e.ERROR_TYPE.DISAPPROVED_NOTIFICATION].stringify(t)})},[e.ERROR_TYPE.UNSUPPORTED_CHAINS]:{type:e.ERROR_TYPE.UNSUPPORTED_CHAINS,code:5100,stringify:t=>"Requested chains are not supported: "+(null==t?void 0:t.chains.toString()),format:t=>({code:e.ERROR[e.ERROR_TYPE.UNSUPPORTED_CHAINS].code,message:e.ERROR[e.ERROR_TYPE.UNSUPPORTED_CHAINS].stringify(t)})},[e.ERROR_TYPE.UNSUPPORTED_JSONRPC]:{type:e.ERROR_TYPE.UNSUPPORTED_JSONRPC,code:5101,stringify:t=>"Requested json-rpc methods are not supported: "+(null==t?void 0:t.methods.toString()),format:t=>({code:e.ERROR[e.ERROR_TYPE.UNSUPPORTED_JSONRPC].code,message:e.ERROR[e.ERROR_TYPE.UNSUPPORTED_JSONRPC].stringify(t)})},[e.ERROR_TYPE.UNSUPPORTED_NOTIFICATION]:{type:e.ERROR_TYPE.UNSUPPORTED_NOTIFICATION,code:5102,stringify:t=>"Requested notification types are not supported: "+(null==t?void 0:t.types.toString()),format:t=>({code:e.ERROR[e.ERROR_TYPE.UNSUPPORTED_NOTIFICATION].code,message:e.ERROR[e.ERROR_TYPE.UNSUPPORTED_NOTIFICATION].stringify(t)})},[e.ERROR_TYPE.UNSUPPORTED_SIGNAL]:{type:e.ERROR_TYPE.UNSUPPORTED_SIGNAL,code:5103,stringify:t=>`Proposed ${(null==t?void 0:t.context)||u} signal is unsupported`,format:t=>({code:e.ERROR[e.ERROR_TYPE.UNSUPPORTED_SIGNAL].code,message:e.ERROR[e.ERROR_TYPE.UNSUPPORTED_SIGNAL].stringify(t)})},[e.ERROR_TYPE.USER_DISCONNECTED]:{type:e.ERROR_TYPE.USER_DISCONNECTED,code:5900,stringify:t=>"User disconnected "+((null==t?void 0:t.context)||u),format:t=>({code:e.ERROR[e.ERROR_TYPE.USER_DISCONNECTED].code,message:e.ERROR[e.ERROR_TYPE.USER_DISCONNECTED].stringify(t)})},[e.ERROR_TYPE.UNKNOWN]:{type:e.ERROR_TYPE.UNKNOWN,code:9e3,stringify:t=>"Unknown error"+(t?": "+(null==t?void 0:t.toString()):""),format:t=>({code:e.ERROR[e.ERROR_TYPE.UNKNOWN].code,message:e.ERROR[e.ERROR_TYPE.UNKNOWN].stringify(t)})}}},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.calcExpiry=e.fromMiliseconds=e.toMiliseconds=e.capitalize=e.capitalizeWord=e.enumify=e.mapEntries=e.objToMap=e.mapToObj=e.mergeArrays=e.getLastItems=e.hasOverlap=e.formatStorageKeyName=e.formatMessageContext=e.parseContextNames=e.assertType=e.formatRelayRpcUrl=e.getRelayClientMetadata=e.getAppMetadata=e.appendToQueryString=e.getEnvironment=e.isBrowser=e.isReactNative=e.isNode=e.ONE_THOUSAND=e.DEFAULT_DEPTH=e.SLASH=e.COLON=e.EMPTY_SPACE=e.ENV_MAP=e.REACT_NATIVE_PRODUCT=void 0;const n=r(7),o=n.__importDefault(r(43)),i=n.__importStar(r(25)),a=r(48),u=r(26);function c(){return void 0!==t&&void 0!==t.versions&&void 0!==t.versions.node}function s(){return!u.getDocument()&&!!u.getNavigator()&&navigator.product===e.REACT_NATIVE_PRODUCT}function f(){return!c()&&!!u.getNavigator()}function R(){return s()?e.ENV_MAP.reactNative:c()?e.ENV_MAP.node:f()?e.ENV_MAP.browser:e.ENV_MAP.unknown}function E(t,e){let r=i.parse(t);return r=Object.assign(Object.assign({},r),e),t=i.stringify(r)}function d(t,e){var r;const n=R(),o={protocol:t,version:e,env:n};return"browser"===n&&(o.host=(null===(r=u.getLocation())||void 0===r?void 0:r.host)||""),o}function l(t,r=e.DEFAULT_DEPTH){return h(t.split(e.SLASH),r)}function h(t,r=e.DEFAULT_DEPTH){return t.slice(Math.max(t.length-r,0))}function _(t){return t.trim().replace(/^\w/,t=>t.toUpperCase())}function y(t){return t*e.ONE_THOUSAND}function p(t){return Math.floor(t/e.ONE_THOUSAND)}e.REACT_NATIVE_PRODUCT="ReactNative",e.ENV_MAP={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},e.EMPTY_SPACE=" ",e.COLON=":",e.SLASH="/",e.DEFAULT_DEPTH=2,e.ONE_THOUSAND=1e3,e.isNode=c,e.isReactNative=s,e.isBrowser=f,e.getEnvironment=R,e.appendToQueryString=E,e.getAppMetadata=function(){return a.getWindowMetadata()||void 0},e.getRelayClientMetadata=d,e.formatRelayRpcUrl=function(t,e,r,n){const o=r.split("?"),i=d(t,e),a=n?Object.assign(Object.assign({},i),{apiKey:n}):i,u=E(o[1]||"",a);return o[0]+"?"+u},e.assertType=function(t,e,r){if(!t[e]||typeof t[e]!==r)throw new Error(`Missing or invalid "${e}" param`)},e.parseContextNames=l,e.formatMessageContext=function(t){return l(t).join(e.EMPTY_SPACE)},e.formatStorageKeyName=function(t){return l(t).join(e.COLON)},e.hasOverlap=function(t,e){return t.filter(t=>e.includes(t)).length===t.length},e.getLastItems=h,e.mergeArrays=function(t,e){return o.default(t,e)},e.mapToObj=function(t){return Object.fromEntries(t.entries())},e.objToMap=function(t){return new Map(Object.entries(t))},e.mapEntries=function(t,e){const r={};return Object.keys(t).forEach(n=>{r[n]=e(t[n])}),r},e.enumify=t=>t,e.capitalizeWord=_,e.capitalize=function(t){return t.split(e.EMPTY_SPACE).map(t=>_(t)).join(e.EMPTY_SPACE)},e.toMiliseconds=y,e.fromMiliseconds=p,e.calcExpiry=function(t,e){return p((e||Date.now())+y(t))}}).call(this,r(12))},function(t,e,r){"use strict";const n=r(44),o=r(45),i=r(46),a=r(47);function u(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function s(t,e){return e.decode?o(t):t}function f(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function R(t){const e=(t=f(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function E(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function d(t,e){u((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,n)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return(t,r,n)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"comma":case"separator":return(e,r,n)=>{const o="string"==typeof r&&r.includes(t.arrayFormatSeparator),i="string"==typeof r&&!o&&s(r,t).includes(t.arrayFormatSeparator);r=i?s(r,t):r;const a=o||i?r.split(t.arrayFormatSeparator).map(e=>s(e,t)):null===r?r:s(r,t);n[e]=a};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),n=Object.create(null);if("string"!=typeof t)return n;if(!(t=t.trim().replace(/^[?#&]/,"")))return n;for(const o of t.split("&")){if(""===o)continue;let[t,a]=i(e.decode?o.replace(/\+/g," "):o,"=");a=void 0===a?null:["comma","separator"].includes(e.arrayFormat)?a:s(a,e),r(s(t,e),a,n)}for(const t of Object.keys(n)){const r=n[t];if("object"==typeof r&&null!==r)for(const t of Object.keys(r))r[t]=E(r[t],e);else n[t]=E(r,e)}return!1===e.sort?n:(!0===e.sort?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((t,e)=>{const r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((t,e)=>Number(t)-Number(e)).map(t=>e[t]):e}(r):t[e]=r,t},Object.create(null))}e.extract=R,e.parse=d,e.stringify=(t,e)=>{if(!t)return"";u((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],n=function(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{const o=r.length;return void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[c(e,t),"[",o,"]"].join("")]:[...r,[c(e,t),"[",c(o,t),"]=",c(n,t)].join("")]};case"bracket":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[c(e,t),"[]"].join("")]:[...r,[c(e,t),"[]=",c(n,t)].join("")];case"comma":case"separator":return e=>(r,n)=>null==n||0===n.length?r:0===r.length?[[c(e,t),"=",c(n,t)].join("")]:[[r,c(n,t)].join(t.arrayFormatSeparator)];default:return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,c(e,t)]:[...r,[c(e,t),"=",c(n,t)].join("")]}}(e),o={};for(const e of Object.keys(t))r(e)||(o[e]=t[e]);const i=Object.keys(o);return!1!==e.sort&&i.sort(e.sort),i.map(r=>{const o=t[r];return void 0===o?"":null===o?c(r,e):Array.isArray(o)?o.reduce(n(r),[]).join("&"):c(r,e)+"="+c(o,e)}).filter(t=>t.length>0).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,n]=i(t,"#");return Object.assign({url:r.split("?")[0]||"",query:d(R(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:s(n,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0},r);const n=f(t.url).split("?")[0]||"",o=e.extract(t.url),i=e.parse(o,{sort:!1}),a=Object.assign(i,t.query);let u=e.stringify(a,r);u&&(u="?"+u);let s=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(s="#"+c(t.fragmentIdentifier,r)),`${n}${u}${s}`},e.pick=(t,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0},n);const{url:o,query:i,fragmentIdentifier:u}=e.parseUrl(t,n);return e.stringifyUrl({url:o,query:a(i,r),fragmentIdentifier:u},n)},e.exclude=(t,r,n)=>{const o=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,o,n)}},function(t,e,r){"use strict";function n(t){let e=void 0;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function o(t){const e=n(t);if(!e)throw new Error(t+" is not defined in Window");return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0,e.getFromWindow=n,e.getFromWindowOrThrow=o,e.getDocumentOrThrow=function(){return o("document")},e.getDocument=function(){return n("document")},e.getNavigatorOrThrow=function(){return o("navigator")},e.getNavigator=function(){return n("navigator")},e.getLocationOrThrow=function(){return o("location")},e.getLocation=function(){return n("location")},e.getCryptoOrThrow=function(){return o("crypto")},e.getCrypto=function(){return n("crypto")},e.getLocalStorageOrThrow=function(){return o("localStorage")},e.getLocalStorage=function(){return n("localStorage")}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(7);n.__exportStar(r(28),e),n.__exportStar(r(23),e),n.__exportStar(r(24),e),n.__exportStar(r(49),e),n.__exportStar(r(51),e)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decrypt=e.encrypt=e.sha256=e.deriveSharedKey=e.generateRandomBytes32=e.generateKeyPair=void 0;const n=r(7),o=n.__importStar(r(29)),i=n.__importStar(r(5));e.generateKeyPair=function(){const t=o.generateKeyPair();return{privateKey:i.arrayToHex(t.privateKey),publicKey:i.arrayToHex(t.publicKey)}},e.generateRandomBytes32=function(){return i.arrayToHex(o.randomBytes(32))},e.deriveSharedKey=function(t,e){const r=o.derive(i.hexToArray(t),i.hexToArray(e));return i.arrayToHex(r)},e.sha256=function(t){return n.__awaiter(this,void 0,void 0,(function*(){const e=yield o.sha256(i.hexToArray(t));return i.arrayToHex(e)}))},e.encrypt=function(t){return n.__awaiter(this,void 0,void 0,(function*(){const e=i.utf8ToArray(t.message),r=i.hexToArray(t.sharedKey),n=i.hexToArray(t.publicKey),a=void 0!==t.iv?i.hexToArray(t.iv):void 0,u=yield o.encryptWithSharedKey(e,r,n,a);return i.arrayToHex(u)}))},e.decrypt=function(t){return n.__awaiter(this,void 0,void 0,(function*(){const e=i.hexToArray(t.encrypted),r=i.hexToArray(t.sharedKey),n=yield o.decryptWithSharedKey(e,r);return i.arrayToUtf8(n)}))}},function(t,e,r){"use strict";r.r(e);var n=r(1);for(var o in n)["default"].indexOf(o)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(o);var i=r(20);r.d(e,"encryptWithSharedKey",(function(){return i.d})),r.d(e,"encrypt",(function(){return i.c})),r.d(e,"decryptWithSharedKey",(function(){return i.b})),r.d(e,"decrypt",(function(){return i.a}));var a=r(4);r.d(e,"derive",(function(){return a.a})),r.d(e,"generatePnrgFromEntropy",(function(){return a.d})),r.d(e,"generateKeyPair",(function(){return a.c})),r.d(e,"getSenderKeyPair",(function(){return a.g})),r.d(e,"getSharedKey",(function(){return a.h})),r.d(e,"getEncryptionKey",(function(){return a.e})),r.d(e,"getMacKey",(function(){return a.f})),r.d(e,"serialize",(function(){return a.i})),r.d(e,"deserialize",(function(){return a.b}))},function(t,e,r){"use strict";(function(t){function r(){return(null==t?void 0:t.crypto)||(null==t?void 0:t.msCrypto)||{}}function n(){const t=r();return t.subtle||t.webkitSubtle}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowserCryptoAvailable=e.getSubtleCrypto=e.getBrowerCrypto=void 0,e.getBrowerCrypto=r,e.getSubtleCrypto=n,e.isBrowserCryptoAvailable=function(){return!!r()&&!!n()}}).call(this,r(8))},function(t,e,r){"use strict";(function(t){function r(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function n(){return void 0!==t&&void 0!==t.versions&&void 0!==t.versions.node}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowser=e.isNode=e.isReactNative=void 0,e.isReactNative=r,e.isNode=n,e.isBrowser=function(){return!r()&&!n()}}).call(this,r(12))},function(t,e,r){"use strict";e.byteLength=function(t){var e=s(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=s(t),a=n[0],u=n[1],c=new i(function(t,e,r){return 3*(e+r)/4-r}(0,a,u)),f=0,R=u>0?a-4:a;for(r=0;r<R;r+=4)e=o[t.charCodeAt(r)]<<18|o[t.charCodeAt(r+1)]<<12|o[t.charCodeAt(r+2)]<<6|o[t.charCodeAt(r+3)],c[f++]=e>>16&255,c[f++]=e>>8&255,c[f++]=255&e;2===u&&(e=o[t.charCodeAt(r)]<<2|o[t.charCodeAt(r+1)]>>4,c[f++]=255&e);1===u&&(e=o[t.charCodeAt(r)]<<10|o[t.charCodeAt(r+1)]<<4|o[t.charCodeAt(r+2)]>>2,c[f++]=e>>8&255,c[f++]=255&e);return c},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,i=[],a=0,u=r-o;a<u;a+=16383)i.push(f(t,a,a+16383>u?u:a+16383));1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=a.length;u<c;++u)n[u]=a[u],o[a.charCodeAt(u)]=u;function s(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t,e,r){for(var o,i,a=[],u=e;u<r;u+=3)o=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,o){var i,a,u=8*o-n-1,c=(1<<u)-1,s=c>>1,f=-7,R=r?o-1:0,E=r?-1:1,d=t[e+R];for(R+=E,i=d&(1<<-f)-1,d>>=-f,f+=u;f>0;i=256*i+t[e+R],R+=E,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=n;f>0;a=256*a+t[e+R],R+=E,f-=8);if(0===i)i=1-s;else{if(i===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),i-=s}return(d?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,u,c,s=8*i-o-1,f=(1<<s)-1,R=f>>1,E=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,l=n?1:-1,h=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+R>=1?E/c:E*Math.pow(2,1-R))*c>=2&&(a++,c/=2),a+R>=f?(u=0,a=f):a+R>=1?(u=(e*c-1)*Math.pow(2,o),a+=R):(u=e*Math.pow(2,R-1)*Math.pow(2,o),a=0));o>=8;t[r+d]=255&u,d+=l,u/=256,o-=8);for(a=a<<o|u,s+=o;s>0;t[r+d]=255&a,d+=l,a/=256,s-=8);t[r+d-l]|=128*h}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){(function(e){var n=r(22).strict;t.exports=function(t){if(n(t)){var r=e.from(t.buffer);return t.byteLength!==t.buffer.byteLength&&(r=r.slice(t.byteOffset,t.byteOffset+t.byteLength)),r}return e.from(t)}}).call(this,r(21).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(37),o=r(41),i=r(9);function a(t,r){return void 0===r&&(r=e.defaultRandomSource),r.randomBytes(t)}e.defaultRandomSource=new n.SystemRandomSource,e.randomBytes=a,e.randomUint32=function(t){void 0===t&&(t=e.defaultRandomSource);var r=a(4,t),n=o.readUint32LE(r);return i.wipe(r),n};var u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(t,r,n){if(void 0===r&&(r=u),void 0===n&&(n=e.defaultRandomSource),r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");for(var o="",c=r.length,s=256-256%c;t>0;){for(var f=a(Math.ceil(256*t/s),n),R=0;R<f.length&&t>0;R++){var E=f[R];E<s&&(o+=r.charAt(E%c),t--)}i.wipe(f)}return o}e.randomString=c,e.randomStringForEntropy=function(t,r,n){return void 0===r&&(r=u),void 0===n&&(n=e.defaultRandomSource),c(Math.ceil(t/(Math.log(r.length)/Math.LN2)),r,n)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(38),o=r(39),i=function(){function t(){return this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new o.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}return t.prototype.randomBytes=function(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)},t}();e.SystemRandomSource=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.isAvailable=!1,this.isInstantiated=!1;var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&t.getRandomValues&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}return t.prototype.randomBytes=function(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");for(var e=new Uint8Array(t),r=0;r<e.length;r+=65536)this._crypto.getRandomValues(e.subarray(r,r+Math.min(e.length-r,65536)));return e},t}();e.BrowserRandomSource=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9),o=function(){function t(){this.isAvailable=!1,this.isInstantiated=!1;var t=r(40);t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}return t.prototype.randomBytes=function(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");var e=this._crypto.randomBytes(t);if(e.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");for(var r=new Uint8Array(t),o=0;o<r.length;o++)r[o]=e[o];return n.wipe(e),r},t}();e.NodeRandomSource=o},function(t,e){},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(42);function o(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}function i(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}function a(t,e){return void 0===e&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function u(t,e){return void 0===e&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function c(t,e){return void 0===e&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function s(t,e){return void 0===e&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}function f(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}function R(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}function E(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),f(t/4294967296>>>0,e,r),f(t>>>0,e,r+4),e}function d(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),R(t>>>0,e,r),R(t/4294967296>>>0,e,r+4),e}e.readInt16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16},e.readUint16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])>>>0},e.readInt16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])<<16>>16},e.readUint16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])>>>0},e.writeUint16BE=o,e.writeInt16BE=o,e.writeUint16LE=i,e.writeInt16LE=i,e.readInt32BE=a,e.readUint32BE=u,e.readInt32LE=c,e.readUint32LE=s,e.writeUint32BE=f,e.writeInt32BE=f,e.writeUint32LE=R,e.writeInt32LE=R,e.readInt64BE=function(t,e){void 0===e&&(e=0);var r=a(t,e),n=a(t,e+4);return 4294967296*r+n-4294967296*(n>>31)},e.readUint64BE=function(t,e){return void 0===e&&(e=0),4294967296*u(t,e)+u(t,e+4)},e.readInt64LE=function(t,e){void 0===e&&(e=0);var r=c(t,e);return 4294967296*c(t,e+4)+r-4294967296*(r>>31)},e.readUint64LE=function(t,e){void 0===e&&(e=0);var r=s(t,e);return 4294967296*s(t,e+4)+r},e.writeUint64BE=E,e.writeInt64BE=E,e.writeUint64LE=d,e.writeInt64LE=d,e.readUintBE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,o=1,i=t/8+r-1;i>=r;i--)n+=e[i]*o,o*=256;return n},e.readUintLE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,o=1,i=r;i<r+t/8;i++)n+=e[i]*o,o*=256;return n},e.writeUintBE=function(t,e,r,o){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===o&&(o=0),t%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,a=t/8+o-1;a>=o;a--)r[a]=e/i&255,i*=256;return r},e.writeUintLE=function(t,e,r,o){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===o&&(o=0),t%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,a=o;a<o+t/8;a++)r[a]=e/i&255,i*=256;return r},e.readFloat32BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e)},e.readFloat32LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e,!0)},e.readFloat64BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e)},e.readFloat64LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e,!0)},e.writeFloat32BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t),e},e.writeFloat32LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t,!0),e},e.writeFloat64BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t),e},e.writeFloat64LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t,!0),e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mul=Math.imul||function(t,e){var r=65535&t,n=65535&e;return r*n+((t>>>16&65535)*n+r*(e>>>16&65535)<<16>>>0)|0},e.add=function(t,e){return t+e|0},e.sub=function(t,e){return t-e|0},e.rotl=function(t,e){return t<<e|t>>>32-e},e.rotr=function(t,e){return t<<32-e|t>>>e},e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(t){return e.isInteger(t)&&t>=-e.MAX_SAFE_INTEGER&&t<=e.MAX_SAFE_INTEGER}},function(t,e,r){(function(e){var r=/^\[object .+?Constructor\]$/,n="object"==typeof e&&e&&e.Object===Object&&e,o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();function a(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function u(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!=e)return function(t,e,r,n){var o=t.length,i=r+(n?1:-1);for(;n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,f,r);var n=r-1,o=t.length;for(;++n<o;)if(t[n]===e)return n;return-1}(t,e,0)>-1}function c(t,e,r){for(var n=-1,o=t?t.length:0;++n<o;)if(r(e,t[n]))return!0;return!1}function s(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function f(t){return t!=t}function R(t,e){return t.has(e)}function E(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var d,l=Array.prototype,h=Function.prototype,_=Object.prototype,y=i["__core-js_shared__"],p=(d=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",O=h.toString,T=_.hasOwnProperty,g=_.toString,S=RegExp("^"+O.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=i.Symbol,P=_.propertyIsEnumerable,A=l.splice,m=v?v.isConcatSpreadable:void 0,N=Math.max,I=B(i,"Map"),b=B(i,"Set"),w=B(Object,"create");function U(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function D(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function C(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function M(t){var e=-1,r=t?t.length:0;for(this.__data__=new C;++e<r;)this.add(t[e])}function Y(t,e){for(var r,n,o=t.length;o--;)if((r=t[o][0])===(n=e)||r!=r&&n!=n)return o;return-1}function L(t){return!(!W(t)||(e=t,p&&p in e))&&(Q(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?S:r).test(function(t){if(null!=t){try{return O.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}U.prototype.clear=function(){this.__data__=w?w(null):{}},U.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},U.prototype.get=function(t){var e=this.__data__;if(w){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return T.call(e,t)?e[t]:void 0},U.prototype.has=function(t){var e=this.__data__;return w?void 0!==e[t]:T.call(e,t)},U.prototype.set=function(t,e){return this.__data__[t]=w&&void 0===e?"__lodash_hash_undefined__":e,this},D.prototype.clear=function(){this.__data__=[]},D.prototype.delete=function(t){var e=this.__data__,r=Y(e,t);return!(r<0)&&(r==e.length-1?e.pop():A.call(e,r,1),!0)},D.prototype.get=function(t){var e=this.__data__,r=Y(e,t);return r<0?void 0:e[r][1]},D.prototype.has=function(t){return Y(this.__data__,t)>-1},D.prototype.set=function(t,e){var r=this.__data__,n=Y(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},C.prototype.clear=function(){this.__data__={hash:new U,map:new(I||D),string:new U}},C.prototype.delete=function(t){return x(this,t).delete(t)},C.prototype.get=function(t){return x(this,t).get(t)},C.prototype.has=function(t){return x(this,t).has(t)},C.prototype.set=function(t,e){return x(this,t).set(t,e),this},M.prototype.add=M.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},M.prototype.has=function(t){return this.__data__.has(t)};var H=b&&1/E(new b([,-0]))[1]==1/0?function(t){return new b(t)}:function(){};function x(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function B(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return L(r)?r:void 0}function j(t){return K(t)||function(t){return J(t)&&T.call(t,"callee")&&(!P.call(t,"callee")||"[object Arguments]"==g.call(t))}(t)||!!(m&&t&&t[m])}var G,V,F=(G=function(t){return function(t,e,r){var n=-1,o=u,i=t.length,a=!0,s=[],f=s;if(r)a=!1,o=c;else if(i>=200){var d=e?null:H(t);if(d)return E(d);a=!1,o=R,f=new M}else f=e?[]:s;t:for(;++n<i;){var l=t[n],h=e?e(l):l;if(l=r||0!==l?l:0,a&&h==h){for(var _=f.length;_--;)if(f[_]===h)continue t;e&&f.push(h),s.push(l)}else o(f,h,r)||(f!==s&&f.push(h),s.push(l))}return s}(function t(e,r,n,o,i){var a=-1,u=e.length;for(n||(n=j),i||(i=[]);++a<u;){var c=e[a];r>0&&n(c)?r>1?t(c,r-1,n,o,i):s(i,c):o||(i[i.length]=c)}return i}(t,1,J,!0))},V=N(void 0===V?G.length-1:V,0),function(){for(var t=arguments,e=-1,r=N(t.length-V,0),n=Array(r);++e<r;)n[e]=t[V+e];e=-1;for(var o=Array(V+1);++e<V;)o[e]=t[e];return o[V]=n,a(G,this,o)});var K=Array.isArray;function k(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!Q(t)}function J(t){return function(t){return!!t&&"object"==typeof t}(t)&&k(t)}function Q(t){var e=W(t)?g.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function W(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=F}).call(this,r(8))},function(t,e,r){"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>"%"+t.charCodeAt(0).toString(16).toUpperCase())},function(t,e,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],i(r),i(n))}function a(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(n),r=1;r<e.length;r++)e=(t=i(e,r).join("")).match(n);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=o.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var n=a(r[0]);n!==r[0]&&(e[r[0]]=n)}r=o.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),u=0;u<i.length;u++){var c=i[u];t=t.replace(new RegExp(c,"g"),e[c])}return t}(t)}}},function(t,e,r){"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const r=t.indexOf(e);return-1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]}},function(t,e,r){"use strict";t.exports=function(t,e){for(var r={},n=Object.keys(t),o=Array.isArray(e),i=0;i<n.length;i++){var a=n[i],u=t[a];(o?-1!==e.indexOf(a):e(a,u,t))&&(r[a]=u)}return r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWindowMetadata=void 0;const n=r(26);e.getWindowMetadata=function(){let t,e;try{t=n.getDocumentOrThrow(),e=n.getLocationOrThrow()}catch(t){return null}function r(...e){const r=t.getElementsByTagName("meta");for(let t=0;t<r.length;t++){const n=r[t],o=["itemprop","property","name"].map(t=>n.getAttribute(t)).filter(t=>!!t&&e.includes(t));if(o.length&&o){const t=n.getAttribute("content");if(t)return t}}return""}const o=function(){let e=r("name","og:site_name","og:title","twitter:title");return e||(e=t.title),e}();return{description:r("description","og:description","twitter:description","keywords"),url:e.origin,icons:function(){const r=t.getElementsByTagName("link"),n=[];for(let t=0;t<r.length;t++){const o=r[t],i=o.getAttribute("rel");if(i&&i.toLowerCase().indexOf("icon")>-1){const t=o.getAttribute("href");if(t)if(-1===t.toLowerCase().indexOf("https:")&&-1===t.toLowerCase().indexOf("http:")&&0!==t.indexOf("//")){let r=e.protocol+"//"+e.host;if(0===t.indexOf("/"))r+=t;else{const n=e.pathname.split("/");n.pop();r+=n.join("/")+"/"+t}n.push(r)}else if(0===t.indexOf("//")){const r=e.protocol+t;n.push(r)}else n.push(t)}}return n}(),name:o}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseUri=e.formatUri=void 0;const n=r(7).__importStar(r(25)),o=r(50);e.formatUri=function(t){return`${t.protocol}:${t.topic}@${t.version}?`+n.stringify({publicKey:t.publicKey,controller:t.controller,relay:o.safeJsonStringify(t.relay)})},e.parseUri=function(t){const e=t.indexOf(":"),r=-1!==t.indexOf("?")?t.indexOf("?"):void 0,i=t.substring(0,e),a=t.substring(e+1,r).split("@"),u=void 0!==r?t.substr(r):"",c=n.parse(u);return{protocol:i,topic:a[0],version:parseInt(a[1],10),publicKey:c.publicKey,controller:"true"===c.controller,relay:o.safeJsonParse(c.relay)}}},function(t,e,r){"use strict";function n(t){if("string"!=typeof t)throw new Error("Cannot safe json parse value of type "+typeof t);try{return JSON.parse(t)}catch(e){return t}}function o(t){return"string"==typeof t?t:JSON.stringify(t)}r.r(e),r.d(e,"safeJsonParse",(function(){return n})),r.d(e,"safeJsonStringify",(function(){return o}))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatInvalidResult=e.formatValidResult=e.isValidationInvalid=e.isValidUrl=e.isValidAccountId=e.isValidChainId=e.isValidString=e.isValidArray=e.validateBlockchainState=e.validateNotificationPermissions=e.validateJsonRpcPermissions=e.validateBlockchainPermissions=e.validateSessionRespondParams=e.validateSessionProposeParams=e.validateSessionProposeParamsMetadata=e.validateSessionProposeParamsPermissions=e.isStateUpdatedEvent=e.isSessionFailed=e.isSessionRejected=e.isSessionResponded=e.isSessionRespondedStatus=e.isPairingFailed=e.isPairingRejected=e.isPairingResponded=e.isPairingRespondedStatus=e.isSequenceFailed=e.isSequenceRejected=e.isSequenceResponded=e.isSequenceRespondedStatus=e.isSignalTypeUri=e.isSignalTypePairing=void 0;const n=r(23);function o(t){return"responded"===t}function i(t){return"responded"===t}function a(t){const e=c(t.blockchain);if(y(e))return e;const r=s(t.jsonrpc);if(y(r))return r;const n=f(t.notifications);return y(n)?n:{valid:!0}}function u(t){return d(t.name)?d(t.description)?void 0!==t.url&&_(t.url)?void 0!==t.icons&&E(t.icons,_)?{valid:!0}:O(n.ERROR.MISSING_OR_INVALID.format({name:"metadata icons"})):O(n.ERROR.MISSING_OR_INVALID.format({name:"metadata url"})):O(n.ERROR.MISSING_OR_INVALID.format({name:"metadata description"})):O(n.ERROR.MISSING_OR_INVALID.format({name:"metadata name"}))}function c(t){return void 0!==t&&void 0!==t.chains&&E(t.chains,l)?{valid:!0}:O(n.ERROR.MISSING_OR_INVALID.format({name:"blockchain permissions"}))}function s(t){return void 0!==t&&void 0!==t.methods&&E(t.methods,d)?{valid:!0}:O(n.ERROR.MISSING_OR_INVALID.format({name:"jsonrpc permissions"}))}function f(t){return void 0!==t&&void 0!==t.types&&E(t.types,d)?{valid:!0}:O(n.ERROR.MISSING_OR_INVALID.format({name:"notification permissions"}))}function R(t,e){if(void 0===e||void 0===e.chains||!E(e.chains,l))return O(n.ERROR.MISSING_OR_INVALID.format({name:"blockchain permissions"}));if(void 0===t||void 0===t.accounts||!E(t.accounts,h))return O(n.ERROR.MISSING_OR_INVALID.format({name:"state accounts"}));const r=t.accounts.filter(t=>{const[r,n]=t.split(":"),o=`${r}:${n}`;return!e.chains.includes(o)});return r.length?O(n.ERROR.MISMATCHED_ACCOUNTS.format({mismatched:r})):{valid:!0}}function E(t,e){if(Array.isArray(t)){if(void 0!==e&&t.length){return t.filter(e).length===t.length}return!0}return!1}function d(t){return"string"==typeof t&&!!t.trim()}function l(t){if(d(t)&&t.includes(":")){return 2===t.split(":").length}return!1}function h(t){if(d(t)&&t.includes(":")){const e=t.split(":");if(3===e.length){const t=e[0]+":"+e[1];return!!e[2]&&l(t)}}return!1}function _(t){if(d(t))try{return void 0!==new URL(t)}catch(t){return!1}return!1}function y(t){return"valid"in t&&!1===t.valid&&"error"in t&&"number"==typeof t.error.code&&"string"==typeof t.error.message}function p(){return{valid:!0}}function O(t){return{valid:!1,error:t}}e.isSignalTypePairing=function(t){return"pairing"===t.method},e.isSignalTypeUri=function(t){return"uri"===t.method},e.isSequenceRespondedStatus=o,e.isSequenceResponded=function(t){return o(t.status)&&"outcome"in t},e.isSequenceRejected=function(t){return"reason"in t},e.isSequenceFailed=function(t){return"reason"in t},e.isPairingRespondedStatus=i,e.isPairingResponded=function(t){return i(t.status)&&"outcome"in t},e.isPairingRejected=function(t){return"reason"in t},e.isPairingFailed=function(t){return"reason"in t},e.isSessionRespondedStatus=function(t){return"responded"===t},e.isSessionResponded=function(t){return i(t.status)&&"outcome"in t},e.isSessionRejected=function(t){return"reason"in t},e.isSessionFailed=function(t){return"reason"in t},e.isStateUpdatedEvent=function(t){return"update"in t},e.validateSessionProposeParamsPermissions=a,e.validateSessionProposeParamsMetadata=u,e.validateSessionProposeParams=function(t){const e=a(t.permissions);if(y(e))return e;const r=u(t.metadata);return y(r)?r:{valid:!0}},e.validateSessionRespondParams=function(t){if(t.approved){if(void 0===t.response)return O(n.ERROR.MISSING_RESPONSE.format({context:"session"}));const e=R(t.response.state,t.proposal.permissions.blockchain);if(y(e))return e;const r=u(t.response.metadata);if(y(r))return r}return{valid:!0}},e.validateBlockchainPermissions=c,e.validateJsonRpcPermissions=s,e.validateNotificationPermissions=f,e.validateBlockchainState=R,e.isValidArray=E,e.isValidString=d,e.isValidChainId=l,e.isValidAccountId=h,e.isValidUrl=_,e.isValidationInvalid=y,e.formatValidResult=p,e.formatInvalidResult=O}])}));