{"ast":null,"code":"var _jsxFileName = \"/Users/jedi/Desktop/Education/REACT/deployed_treasureblox_dapp/src/PartnershipExample/GamesSelection/FighterPilot/FighterScreen.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useState, useRef, useEffect, useCallback } from \"react\"; // import Bird from './components/Bird'\n// import Obstacles from './components/Obstacles'\n\nimport { Button, Container, Nav, Navbar, NavDropdown } from 'react-bootstrap';\nimport useSound from 'use-sound'; //\n// import lazer from './assets/Lazer.wav';\n// import ohno from './assets/troy_oh_no.mp4';\n\nimport './style.css';\nimport { BrowserRouter as Router, Switch, Route, Link, Redirect } from \"react-router-dom\";\nimport ReactAudioPlayer from 'react-audio-player'; // Hook\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction useWindowSize() {\n  _s();\n\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState({\n    width: undefined,\n    height: undefined\n  });\n  useEffect(() => {\n    // Handler to call on window resize\n    function handleResize() {\n      // Set window width/height to state\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    } // Add event listener\n\n\n    window.addEventListener(\"resize\", handleResize); // Call handler right away so state gets updated with initial window size\n\n    handleResize(); // Remove event listener on cleanup\n\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []); // Empty array ensures that effect is only run on mount\n\n  return windowSize;\n}\n\n_s(useWindowSize, \"WMqaMVAPr0u8CJVTsAIdEuYrbbM=\");\n\nconst FighterScreen = props => {\n  _s2();\n\n  const {\n    width,\n    height\n  } = useWindowSize();\n  const canvasRef = useRef(null);\n\n  const draw = ctx => {\n    ctx.fillStyle = '#000000';\n    ctx.beginPath();\n    ctx.arc(500, 100, 20, 0, 2 * Math.PI);\n    ctx.fill();\n  }; // const ctx = canvas.getContext(\"2d\");\n  // Global Varabales\n\n\n  let controlPlayer = false;\n  let hasGameStarted = false; // Prevent game from working whilst page reloads\n\n  let hasGameOver = false;\n  let startDate = null;\n\n  function millisecondsToMiutes(millis) {\n    let minutes = Math.floor(millis / 60000);\n    let seconds = Math.floor(millis % 60000 / 1000);\n    return minutes + \":\" + (seconds < 10 ? \"0\" : \"\") + seconds;\n  }\n\n  function gameOver() {\n    if (!hasGameOver) {\n      let endDate = new Date();\n      let timeDiff = endDate - startDate;\n\n      if (timeDiff < 60000) {\n        alert('You survived ' + timeDiff / 1000 + \" seconds!\");\n      } else {\n        let minutesSurvived = millisecondsToMiutes(timeDiff);\n        alert('You survived ${minutesSurvived} WOW!');\n      }\n\n      hasGameOver = true;\n    }\n  } // Canvas black boarder\n\n\n  let playerRect = {\n    x: 275,\n    y: 275,\n    width: 50,\n    height: 50\n  }; // Game Elements\n\n  let rectangles = [{\n    x: 75,\n    y: 75,\n    dx: 5,\n    dy: 4,\n    width: 75,\n    height: 75,\n    color: \"#000099\"\n  }, {\n    x: 400,\n    y: 75,\n    dx: -5,\n    dy: 5.5,\n    width: 80,\n    height: 60,\n    color: \"#000099\"\n  }, {\n    x: 75,\n    y: 445,\n    dx: 5,\n    dy: -5,\n    width: 40,\n    height: 80,\n    color: \"#000099\"\n  }, {\n    x: 420,\n    y: 450,\n    dx: -5,\n    dy: -5,\n    width: 130,\n    height: 25,\n    color: \"#000099\"\n  }];\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n\n    function drawRect() {\n      // Draw player rect first\n      ctx.fillStyle = \"#901234\";\n      ctx.fillRect(playerRect.x, playerRect.y, playerRect.width, playerRect.height);\n      rectangles.forEach(rect => {\n        ctx.fillStyle = rect.color;\n        ctx.fillRect(rect.x, rect.y, rect.width, rect.height);\n      });\n    }\n\n    function drawBoarder() {\n      ctx.fillStyle = \"black\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      ctx.clearRect(50, 50, 500, 500);\n    }\n\n    function boarderRectangleDetection() {\n      rectangles.forEach(rect => {\n        if (rect.x + rect.width > canvas.width || rect.x < 0) {\n          rect.dx *= -1;\n        }\n\n        if (rect.y + rect.height > canvas.height || rect.y < 0) {\n          rect.dy *= -1;\n        }\n      });\n    }\n\n    function update() {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      drawBoarder();\n      drawRect();\n\n      if (hasGameStarted) {\n        moveRectangle();\n      }\n\n      playerCollisionDetection();\n      rectangleCollisionDetection();\n      boarderRectangleDetection();\n      requestAnimationFrame(update);\n    } // call update methord on initial document load\n\n\n    update();\n    canvas.addEventListener('mousedown', e => {\n      // get x & y coordinates in relation to the canvas\n      var pos = {\n        x: e.clientX - canvas.offsetLeft,\n        y: e.clientY - canvas.offsetTop\n      }; // See if they clicked on red square\n\n      if (isCursorInRect(pos.x, pos.y, playerRect)) {\n        //\n        if (!hasGameStarted) {\n          startDate = new Date();\n          configureRectSpeed();\n        }\n\n        hasGameStarted = true;\n        controlPlayer = true;\n      }\n    });\n    canvas.addEventListener(\"mousemove\", e => {\n      if (controlPlayer && !hasGameOver) {\n        // get x & y coordinates in relation to the canvas\n        var pos = {\n          x: e.clientX - canvas.offsetLeft,\n          y: e.clientY - canvas.offsetTop\n        };\n        playerRect.x = pos.x - 25;\n        playerRect.y = pos.y - 25;\n      }\n    });\n    canvas.addEventListener(\"mouseup\", () => {\n      controlPlayer = false;\n    }); //Our draw come here\n\n    draw(ctx);\n  }, []); // const canvas = document.getElementById(\"canvas\");\n  // Render rectangles to canvas\n\n  const drawRect = ctx => {\n    // Draw player rect first\n    ctx.fillStyle = \"#901234\";\n    ctx.fillRect(playerRect.x, playerRect.y, playerRect.width, playerRect.height);\n    rectangles.forEach(rect => {\n      ctx.fillStyle = rect.color;\n      ctx.fillRect(rect.x, rect.y, rect.width, rect.height);\n    });\n  }; // collision\n\n\n  function playerCollisionDetection() {\n    if (playerRect.x + playerRect.width > 550 || playerRect.x < 50 || playerRect.y + playerRect.height > 550 || playerRect.y < 50) {\n      gameOver();\n    }\n  }\n\n  function isRectangleCollision(rect1, rect2) {\n    return !(rect1.x > rect2.x + rect2.width || rect1.x + rect1.width < rect2.x || rect1.y > rect2.y + rect2.height || rect1.y + rect1.height < rect2.y);\n  }\n\n  function rectangleCollisionDetection() {\n    rectangles.forEach(rect => {\n      if (isRectangleCollision(playerRect, rect)) {\n        gameOver();\n      }\n    });\n  }\n\n  function moveRectangle() {\n    rectangles.forEach(rect => {\n      rect.x += rect.dx;\n      rect.y += rect.dy;\n    });\n  }\n\n  let numberOfSpeed = 0;\n\n  function configureRectSpeed() {\n    const speedUpGame = setInterval(() => {\n      numberOfSpeed++;\n      rectangles.forEach(rect => {\n        rect.dx >= 0 ? rect.dx += 1 : rect.dx -= 1;\n        rect.dy >= 0 ? rect.dy += 1 : rect.dy -= 1;\n      });\n\n      if (numberOfSpeed === 4) {\n        clearInterval(speedUpGame);\n      }\n    }, 10000);\n  } // Returns true if collision\n\n\n  function isCursorInRect(x, y, rect) {\n    return x > rect.x && x < rect.x + rect.width && y > rect.y && y < rect.y + rect.height;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"center\", {\n      children: [\"Fighter Pilot\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        ...props,\n        width: \"600\",\n        height: \"600\",\n        id: \"canvas\",\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 359,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(FighterScreen, \"4q3um/faSfRHZBERDGr/KHl0dMU=\", false, function () {\n  return [useWindowSize];\n});\n\n_c = FighterScreen;\nexport default FighterScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"FighterScreen\");","map":{"version":3,"sources":["/Users/jedi/Desktop/Education/REACT/deployed_treasureblox_dapp/src/PartnershipExample/GamesSelection/FighterPilot/FighterScreen.js"],"names":["useState","useRef","useEffect","useCallback","Button","Container","Nav","Navbar","NavDropdown","useSound","BrowserRouter","Router","Switch","Route","Link","Redirect","ReactAudioPlayer","useWindowSize","windowSize","setWindowSize","width","undefined","height","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","FighterScreen","props","canvasRef","draw","ctx","fillStyle","beginPath","arc","Math","PI","fill","controlPlayer","hasGameStarted","hasGameOver","startDate","millisecondsToMiutes","millis","minutes","floor","seconds","gameOver","endDate","Date","timeDiff","alert","minutesSurvived","playerRect","x","y","rectangles","dx","dy","color","canvas","current","getContext","drawRect","fillRect","forEach","rect","drawBoarder","clearRect","boarderRectangleDetection","update","moveRectangle","playerCollisionDetection","rectangleCollisionDetection","requestAnimationFrame","e","pos","clientX","offsetLeft","clientY","offsetTop","isCursorInRect","configureRectSpeed","isRectangleCollision","rect1","rect2","numberOfSpeed","speedUpGame","setInterval","clearInterval"],"mappings":"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","sourcesContent":["\nimport { useState, useRef, useEffect, useCallback } from \"react\";\n\n// import Bird from './components/Bird'\n// import Obstacles from './components/Obstacles'\nimport { Button,Container,Nav,Navbar,NavDropdown } from 'react-bootstrap';\nimport useSound from 'use-sound';\n//\n// import lazer from './assets/Lazer.wav';\n// import ohno from './assets/troy_oh_no.mp4';\nimport './style.css';\n\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect\n} from \"react-router-dom\";\n\nimport ReactAudioPlayer from 'react-audio-player';\n\n\n// Hook\nfunction useWindowSize() {\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState({\n    width: undefined,\n    height: undefined,\n  });\n\n  useEffect(() => {\n    // Handler to call on window resize\n    function handleResize() {\n      // Set window width/height to state\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n    // Add event listener\n    window.addEventListener(\"resize\", handleResize);\n    // Call handler right away so state gets updated with initial window size\n    handleResize();\n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []); // Empty array ensures that effect is only run on mount\n  return windowSize;\n}\n\n\n\nconst FighterScreen = (props) =>{\n\n  const { width, height } = useWindowSize();\n\n  const canvasRef = useRef(null)\n\n  const draw = ctx => {\n    ctx.fillStyle = '#000000'\n    ctx.beginPath()\n    ctx.arc(500, 100, 20, 0, 2*Math.PI)\n    ctx.fill()\n  }\n\n\n\n  // const ctx = canvas.getContext(\"2d\");\n\n  // Global Varabales\n\n  let controlPlayer = false;\n  let hasGameStarted = false;\n\n\n  // Prevent game from working whilst page reloads\n  let hasGameOver = false;\n  let startDate = null;\n\n  function millisecondsToMiutes(millis){\n    let minutes = Math.floor(millis/60000);\n    let seconds = Math.floor((millis % 60000)/1000);\n    return minutes + \":\" + (seconds < 10 ? \"0\" : \"\") + seconds;\n\n  }\n\n  function gameOver(){\n    if(!hasGameOver){\n      let endDate = new Date();\n      let timeDiff = endDate - startDate;\n      if (timeDiff < 60000){\n        alert('You survived '+ timeDiff/1000 +\" seconds!\");\n      }else{\n        let minutesSurvived = millisecondsToMiutes(timeDiff);\n        alert('You survived ${minutesSurvived} WOW!');\n\n      }\n\n      hasGameOver = true;\n    }\n  }\n\n\n  // Canvas black boarder\n\n\n\n  let playerRect = {\n    x:275,\n    y:275,\n    width:50,\n    height:50,\n  }\n\n  // Game Elements\n  let rectangles = [\n    {\n      x:75,\n      y:75,\n      dx:5,\n      dy:4,\n      width:75,\n      height:75,\n      color:\"#000099\",\n    },\n    {\n      x:400,\n      y:75,\n      dx:-5,\n      dy:5.5,\n      width:80,\n      height:60,\n      color:\"#000099\",\n    },\n    {\n      x:75,\n      y:445,\n      dx:5,\n      dy:-5,\n      width:40,\n      height:80,\n      color:\"#000099\",\n    },\n    {\n      x:420,\n      y:450,\n      dx:-5,\n      dy:-5,\n      width:130,\n      height:25,\n      color:\"#000099\",\n    },\n  ]\n\n  \n  useEffect(() => {\n\n    const canvas = canvasRef.current\n    const ctx = canvas.getContext('2d')\n\n\n    function drawRect(){\n      // Draw player rect first\n      ctx.fillStyle = \"#901234\";\n      ctx.fillRect(playerRect.x,playerRect.y,playerRect.width,playerRect.height);\n\n      rectangles.forEach(rect => {\n        ctx.fillStyle = rect.color;\n        ctx.fillRect(rect.x,rect.y,rect.width,rect.height);\n      });\n\n    }\n\n    function drawBoarder(){\n      ctx.fillStyle = \"black\";\n      ctx.fillRect(0,0,canvas.width,canvas.height);\n      ctx.clearRect(50,50,500,500);\n    }\n\n\n    function boarderRectangleDetection(){\n      rectangles.forEach(rect=>{\n        if(rect.x + rect.width > canvas.width || rect.x < 0){\n          rect.dx *= -1;\n        }\n        if(rect.y + rect.height > canvas.height || rect.y < 0){\n          rect.dy *= -1;\n        }\n      })\n    }\n\n    function update(){\n      ctx.clearRect(0,0,canvas.width,canvas.height);\n\n      drawBoarder();\n      drawRect();\n\n      if (hasGameStarted){\n        moveRectangle();\n      }\n\n      playerCollisionDetection();\n      rectangleCollisionDetection();\n      boarderRectangleDetection();\n      requestAnimationFrame(update);\n    }\n\n    // call update methord on initial document load\n    update();\n\n\n\n\n    canvas.addEventListener('mousedown', e => {\n\n      // get x & y coordinates in relation to the canvas\n      var pos = {\n        x: e.clientX - canvas.offsetLeft,\n        y: e.clientY - canvas.offsetTop,\n      };\n\n      // See if they clicked on red square\n      if (isCursorInRect(pos.x,pos.y,playerRect)){\n        //\n        if(!hasGameStarted){\n          startDate = new Date();\n          configureRectSpeed();\n        }\n        hasGameStarted = true;\n        controlPlayer = true;\n      }\n\n    });\n\n\n    canvas.addEventListener(\"mousemove\", e => {\n\n      if(controlPlayer && !hasGameOver){\n        // get x & y coordinates in relation to the canvas\n        var pos = {\n          x: e.clientX - canvas.offsetLeft,\n          y: e.clientY - canvas.offsetTop,\n        };\n        playerRect.x = pos.x - 25;\n        playerRect.y = pos.y - 25;\n      }\n\n    })\n\n\n\n    canvas.addEventListener(\"mouseup\", () =>{\n      controlPlayer = false;\n    })\n\n\n\n    //Our draw come here\n    draw(ctx)\n  }, [])\n\n\n\n\n\n\n      // const canvas = document.getElementById(\"canvas\");\n\n\n      // Render rectangles to canvas\n\n      const drawRect = ctx => {\n        // Draw player rect first\n        ctx.fillStyle = \"#901234\";\n        ctx.fillRect(playerRect.x,playerRect.y,playerRect.width,playerRect.height);\n\n        rectangles.forEach(rect => {\n          ctx.fillStyle = rect.color;\n          ctx.fillRect(rect.x,rect.y,rect.width,rect.height);\n        });\n  }\n\n\n\n\n\n      // collision\n      function playerCollisionDetection(){\n        if(playerRect.x + playerRect.width > 550 || playerRect.x < 50 || playerRect.y + playerRect.height > 550 || playerRect.y < 50\n        ){\n          gameOver();\n        }\n      }\n\n      function isRectangleCollision(rect1,rect2){\n        return !(\n          rect1.x > rect2.x + rect2.width || rect1.x + rect1.width < rect2.x || rect1.y > rect2.y + rect2.height || rect1.y + rect1.height < rect2.y\n        );\n      }\n\n      function rectangleCollisionDetection(){\n        rectangles.forEach(rect =>{\n          if(isRectangleCollision(playerRect,rect)){\n            gameOver();\n          }\n        })\n      }\n\n      function moveRectangle(){\n        rectangles.forEach(rect => {\n          rect.x += rect.dx;\n          rect.y += rect.dy;\n        })\n      }\n\n\n\n      let numberOfSpeed = 0;\n\n      function configureRectSpeed(){\n        const speedUpGame = setInterval(()=>{\n          numberOfSpeed++;\n          rectangles.forEach(rect =>{\n            rect.dx >= 0 ? rect.dx += 1 : rect.dx -= 1;\n            rect.dy >= 0 ? rect.dy += 1 : rect.dy -= 1;\n\n          });\n          if(numberOfSpeed === 4){\n            clearInterval(speedUpGame);\n          }\n        },10000)\n      }\n\n\n\n\n      // Returns true if collision\n      function isCursorInRect(x,y,rect){\n        return(x > rect.x && x < rect.x+rect.width && y > rect.y && y < rect.y+rect.height);\n      }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  return (\n    <div>\n\n<center>\nFighter Pilot<br/>\n<canvas ref={canvasRef} {...props} width=\"600\" height=\"600\" id=\"canvas\"> </canvas>\n\n</center>\n<br/>\n    </div>\n  );\n}\n\nexport default FighterScreen;\n"]},"metadata":{},"sourceType":"module"}