{"ast":null,"code":"var _jsxFileName = \"/Users/jedi/Desktop/Education/REACT/deployed_treasureblox_dapp/src/PartnershipExample/GamesSelection/FighterPilot/FighterScreen.js\",\n    _s2 = $RefreshSig$();\n\nimport { useState, useRef, useEffect, useCallback } from \"react\"; // import Bird from './components/Bird'\n// import Obstacles from './components/Obstacles'\n\nimport { Button, Container, Nav, Navbar, NavDropdown } from 'react-bootstrap';\nimport useSound from 'use-sound'; //\n// import lazer from './assets/Lazer.wav';\n// import ohno from './assets/troy_oh_no.mp4';\n\nimport './style.css';\nimport { BrowserRouter as Router, Switch, Route, Link, Redirect } from \"react-router-dom\";\nimport ReactAudioPlayer from 'react-audio-player'; // Hook\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FighterScreen = props => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  useEffect(_s(() => {\n    _s();\n\n    const canvas = document.getElementById(\"canvas\");\n    const ctx = canvas.getContext(\"2d\"); // Global Varabales\n\n    var [controlPlayer, setControlPlayer] = useState(false);\n    var [hasGameStarted, setHasGameStarted] = useState(false);\n    var [hasGameOver, setHasGameOver] = useState(false); // Prevent game from working whilst page reloads\n\n    let startDate = null;\n    let playerRect = {\n      x: 275,\n      y: 275,\n      width: 50,\n      height: 50\n    }; // Game Elements\n\n    let rectangles = [{\n      x: 75,\n      y: 75,\n      dx: 5,\n      dy: 4,\n      width: 75,\n      height: 75,\n      color: \"#000099\"\n    }, {\n      x: 400,\n      y: 75,\n      dx: -5,\n      dy: 5.5,\n      width: 80,\n      height: 60,\n      color: \"#000099\"\n    }, {\n      x: 75,\n      y: 445,\n      dx: 5,\n      dy: -5,\n      width: 40,\n      height: 80,\n      color: \"#000099\"\n    }, {\n      x: 420,\n      y: 450,\n      dx: -5,\n      dy: -5,\n      width: 130,\n      height: 25,\n      color: \"#000099\"\n    }];\n\n    function millisecondsToMiutes(millis) {\n      let minutes = Math.floor(millis / 60000);\n      let seconds = Math.floor(millis % 60000 / 1000);\n      return minutes + \":\" + (seconds < 10 ? \"0\" : \"\") + seconds;\n    }\n\n    function gameOver() {\n      if (!hasGameOver) {\n        let endDate = new Date();\n        let timeDiff = endDate - startDate;\n\n        if (timeDiff < 60000) {\n          alert('You survived ' + timeDiff / 1000 + \" seconds!\");\n        } else {\n          let minutesSurvived = millisecondsToMiutes(timeDiff);\n          alert('You survived ${minutesSurvived} WOW!');\n        }\n\n        setHasGameOver(true);\n      }\n    } // Canvas black boarder\n\n\n    function drawBoarder() {\n      ctx.fillStyle = \"black\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      ctx.clearRect(50, 50, 500, 500);\n    } // Render rectangles to canvas\n\n\n    function drawRect() {\n      // Draw player rect first\n      ctx.fillStyle = \"#901234\";\n      ctx.fillRect(playerRect.x, playerRect.y, playerRect.width, playerRect.height);\n      rectangles.forEach(rect => {\n        ctx.fillStyle = rect.color;\n        ctx.fillRect(rect.x, rect.y, rect.width, rect.height);\n      });\n    } // collision\n\n\n    function playerCollisionDetection() {\n      if (playerRect.x + playerRect.width > 550 || playerRect.x < 50 || playerRect.y + playerRect.height > 550 || playerRect.y < 50) {\n        gameOver();\n      }\n    }\n\n    function isRectangleCollision(rect1, rect2) {\n      return !(rect1.x > rect2.x + rect2.width || rect1.x + rect1.width < rect2.x || rect1.y > rect2.y + rect2.height || rect1.y + rect1.height < rect2.y);\n    }\n\n    function rectangleCollisionDetection() {\n      rectangles.forEach(rect => {\n        if (isRectangleCollision(playerRect, rect)) {\n          gameOver();\n        }\n      });\n    }\n\n    function moveRectangle() {\n      rectangles.forEach(rect => {\n        rect.x += rect.dx;\n        rect.y += rect.dy;\n      });\n    }\n\n    function boarderRectangleDetection() {\n      rectangles.forEach(rect => {\n        if (rect.x + rect.width > canvas.width || rect.x < 0) {\n          rect.dx *= -1;\n        }\n\n        if (rect.y + rect.height > canvas.height || rect.y < 0) {\n          rect.dy *= -1;\n        }\n      });\n    }\n\n    let numberOfSpeed = 0;\n\n    function configureRectSpeed() {\n      const speedUpGame = setInterval(() => {\n        numberOfSpeed++;\n        rectangles.forEach(rect => {\n          rect.dx >= 0 ? rect.dx += 1 : rect.dx -= 1;\n          rect.dy >= 0 ? rect.dy += 1 : rect.dy -= 1;\n        });\n\n        if (numberOfSpeed === 4) {\n          clearInterval(speedUpGame);\n        }\n      }, 10000);\n    } // Returns true if collision\n\n\n    function isCursorInRect(x, y, rect) {\n      return x > rect.x && x < rect.x + rect.width && y > rect.y && y < rect.y + rect.height;\n    }\n\n    const init = async () => {\n      canvas.addEventListener('mousedown', on_canvas_down, false);\n\n      function on_canvas_down(ev) {\n        console.log(controlPlayer, \"xxxxxxxxx////////\");\n        console.log(!hasGameOver, \"xxxxxxxxx////////\"); // get x & y coordinates in relation to the canvas\n\n        var x = ev.clientX - this.offsetLeft;\n        var y = ev.clientY - this.offsetTop; // See if they clicked on red square\n\n        if (isCursorInRect(x, y, playerRect)) {\n          //\n          if (!hasGameStarted) {\n            startDate = new Date();\n            configureRectSpeed();\n          }\n\n          setHasGameStarted(true);\n          setControlPlayer(true);\n        }\n      }\n\n      canvas.addEventListener('mousemove', on_canvas_move, false);\n\n      function on_canvas_move(ev) {\n        if (controlPlayer && !hasGameOver) {\n          // get x & y coordinates in relation to the canvas\n          var x = ev.clientX - this.offsetLeft;\n          var y = ev.clientY - this.offsetTop;\n          playerRect.x = x - 25;\n          playerRect.y = y - 25;\n        }\n\n        console.log(x, \"xxxxxxxxxx\");\n      }\n\n      canvas.addEventListener('mouseup', on_canvas_up, false);\n\n      function on_canvas_up(ev) {\n        setControlPlayer(false);\n      }\n\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      drawBoarder();\n      drawRect();\n\n      if (hasGameStarted) {\n        moveRectangle();\n      }\n\n      playerCollisionDetection();\n      rectangleCollisionDetection();\n      boarderRectangleDetection();\n    };\n\n    init();\n  }, \"yngXK3MhQBEDNbWNsv9IJJKPA5o=\"), []); //     const timer = window.setInterval( async() => {\n  // }, 1000);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"center\", {\n      children: [\"Fighter Pilot\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        width: \"600\",\n        height: \"600\",\n        id: \"canvas\",\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 304,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(FighterScreen, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = FighterScreen;\nexport default FighterScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"FighterScreen\");","map":{"version":3,"sources":["/Users/jedi/Desktop/Education/REACT/deployed_treasureblox_dapp/src/PartnershipExample/GamesSelection/FighterPilot/FighterScreen.js"],"names":["useState","useRef","useEffect","useCallback","Button","Container","Nav","Navbar","NavDropdown","useSound","BrowserRouter","Router","Switch","Route","Link","Redirect","ReactAudioPlayer","FighterScreen","props","canvas","document","getElementById","ctx","getContext","controlPlayer","setControlPlayer","hasGameStarted","setHasGameStarted","hasGameOver","setHasGameOver","startDate","playerRect","x","y","width","height","rectangles","dx","dy","color","millisecondsToMiutes","millis","minutes","Math","floor","seconds","gameOver","endDate","Date","timeDiff","alert","minutesSurvived","drawBoarder","fillStyle","fillRect","clearRect","drawRect","forEach","rect","playerCollisionDetection","isRectangleCollision","rect1","rect2","rectangleCollisionDetection","moveRectangle","boarderRectangleDetection","numberOfSpeed","configureRectSpeed","speedUpGame","setInterval","clearInterval","isCursorInRect","init","addEventListener","on_canvas_down","ev","console","log","clientX","offsetLeft","clientY","offsetTop","on_canvas_move","on_canvas_up"],"mappings":"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","sourcesContent":["\nimport { useState, useRef, useEffect, useCallback } from \"react\";\n\n// import Bird from './components/Bird'\n// import Obstacles from './components/Obstacles'\nimport { Button,Container,Nav,Navbar,NavDropdown } from 'react-bootstrap';\nimport useSound from 'use-sound';\n//\n// import lazer from './assets/Lazer.wav';\n// import ohno from './assets/troy_oh_no.mp4';\nimport './style.css';\n\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect\n} from \"react-router-dom\";\n\nimport ReactAudioPlayer from 'react-audio-player';\n\n\n// Hook\n\n\n\nconst FighterScreen = (props) =>{\n\n\n\n\n  useEffect(() => {\n\n\n\n      const canvas = document.getElementById(\"canvas\");\n      const ctx = canvas.getContext(\"2d\");\n\n      // Global Varabales\n\n\n        var [controlPlayer, setControlPlayer]= useState(false)\n        var [hasGameStarted, setHasGameStarted]= useState(false)\n        var [hasGameOver, setHasGameOver]= useState(false)\n\n\n        // Prevent game from working whilst page reloads\n        let startDate = null;\n\n        let playerRect = {\n          x:275,\n          y:275,\n          width:50,\n          height:50,\n        }\n\n        // Game Elements\n        let rectangles = [\n          {\n            x:75,\n            y:75,\n            dx:5,\n            dy:4,\n            width:75,\n            height:75,\n            color:\"#000099\",\n          },\n          {\n            x:400,\n            y:75,\n            dx:-5,\n            dy:5.5,\n            width:80,\n            height:60,\n            color:\"#000099\",\n          },\n          {\n            x:75,\n            y:445,\n            dx:5,\n            dy:-5,\n            width:40,\n            height:80,\n            color:\"#000099\",\n          },\n          {\n            x:420,\n            y:450,\n            dx:-5,\n            dy:-5,\n            width:130,\n            height:25,\n            color:\"#000099\",\n          },\n        ]\n\n\n        function millisecondsToMiutes(millis){\n          let minutes = Math.floor(millis/60000);\n          let seconds = Math.floor((millis % 60000)/1000);\n          return minutes + \":\" + (seconds < 10 ? \"0\" : \"\") + seconds;\n\n        }\n\n        function gameOver(){\n          if(!hasGameOver){\n            let endDate = new Date();\n            let timeDiff = endDate - startDate;\n            if (timeDiff < 60000){\n              alert('You survived '+ timeDiff/1000 +\" seconds!\");\n            }else{\n              let minutesSurvived = millisecondsToMiutes(timeDiff);\n              alert('You survived ${minutesSurvived} WOW!');\n\n            }\n\n            setHasGameOver(true);\n          }\n        }\n\n\n      // Canvas black boarder\n\n      function drawBoarder(){\n        ctx.fillStyle = \"black\";\n        ctx.fillRect(0,0,canvas.width,canvas.height);\n        ctx.clearRect(50,50,500,500);\n      }\n\n\n\n      // Render rectangles to canvas\n\n      function drawRect(){\n        // Draw player rect first\n        ctx.fillStyle = \"#901234\";\n        ctx.fillRect(playerRect.x,playerRect.y,playerRect.width,playerRect.height);\n\n        rectangles.forEach(rect => {\n          ctx.fillStyle = rect.color;\n          ctx.fillRect(rect.x,rect.y,rect.width,rect.height);\n        });\n\n      }\n\n      // collision\n      function playerCollisionDetection(){\n        if(playerRect.x + playerRect.width > 550 || playerRect.x < 50 || playerRect.y + playerRect.height > 550 || playerRect.y < 50\n        ){\n          gameOver();\n        }\n      }\n\n      function isRectangleCollision(rect1,rect2){\n        return !(\n          rect1.x > rect2.x + rect2.width || rect1.x + rect1.width < rect2.x || rect1.y > rect2.y + rect2.height || rect1.y + rect1.height < rect2.y\n        );\n      }\n\n      function rectangleCollisionDetection(){\n        rectangles.forEach(rect =>{\n          if(isRectangleCollision(playerRect,rect)){\n            gameOver();\n          }\n        })\n      }\n\n      function moveRectangle(){\n        rectangles.forEach(rect => {\n          rect.x += rect.dx;\n          rect.y += rect.dy;\n        })\n      }\n\n      function boarderRectangleDetection(){\n        rectangles.forEach(rect=>{\n          if(rect.x + rect.width > canvas.width || rect.x < 0){\n            rect.dx *= -1;\n          }\n          if(rect.y + rect.height > canvas.height || rect.y < 0){\n            rect.dy *= -1;\n          }\n        })\n      }\n\n      let numberOfSpeed = 0;\n\n      function configureRectSpeed(){\n        const speedUpGame = setInterval(()=>{\n          numberOfSpeed++;\n          rectangles.forEach(rect =>{\n            rect.dx >= 0 ? rect.dx += 1 : rect.dx -= 1;\n            rect.dy >= 0 ? rect.dy += 1 : rect.dy -= 1;\n\n          });\n          if(numberOfSpeed === 4){\n            clearInterval(speedUpGame);\n          }\n        },10000)\n      }\n\n\n\n\n      // Returns true if collision\n      function isCursorInRect(x,y,rect){\n        return(x > rect.x && x < rect.x+rect.width && y > rect.y && y < rect.y+rect.height);\n      }\n\n\n      const init = async() => {\n\n      canvas.addEventListener('mousedown', on_canvas_down, false);\n\n      function on_canvas_down(ev) {\n\n        console.log(controlPlayer,\"xxxxxxxxx////////\")\n        console.log(!hasGameOver,\"xxxxxxxxx////////\")\n\n          // get x & y coordinates in relation to the canvas\n\n          var x = ev.clientX - this.offsetLeft;\n          var y = ev.clientY - this.offsetTop;\n\n          // See if they clicked on red square\n          if(isCursorInRect(x,y,playerRect)){\n            //\n            if(!hasGameStarted){\n              startDate = new Date();\n              configureRectSpeed();\n            }\n            setHasGameStarted(true)\n            setControlPlayer(true)\n          }\n\n      }\n\n\n\n\n\n\n\n\n      canvas.addEventListener('mousemove', on_canvas_move, false);\n\n\n        function on_canvas_move(ev) {\n\n          if(controlPlayer && !hasGameOver){\n            // get x & y coordinates in relation to the canvas\n\n            var x = ev.clientX - this.offsetLeft;\n            var y = ev.clientY - this.offsetTop;\n\n            playerRect.x = x - 25;\n            playerRect.y = y - 25;\n          }\n          console.log(x,\"xxxxxxxxxx\")\n      }\n\n\n\n\n\n\n\n      canvas.addEventListener('mouseup', on_canvas_up, false);\n      function on_canvas_up(ev) {\n\n        setControlPlayer(false);\n      }\n\n\n\n        ctx.clearRect(0,0,canvas.width,canvas.height);\n\n        drawBoarder();\n        drawRect();\n\n        if (hasGameStarted){\n          moveRectangle();\n        }\n\n        playerCollisionDetection();\n        rectangleCollisionDetection();\n        boarderRectangleDetection();\n      }\n      init()\n\n\n    }, []);\n\n\n//     const timer = window.setInterval( async() => {\n// }, 1000);\n\n\n\n\n  return (\n    <div>\n\n<center>\nFighter Pilot<br/>\n<canvas width=\"600\" height=\"600\" id=\"canvas\"> </canvas>\n\n</center>\n<br/>\n    </div>\n  );\n}\n\nexport default FighterScreen;\n"]},"metadata":{},"sourceType":"module"}