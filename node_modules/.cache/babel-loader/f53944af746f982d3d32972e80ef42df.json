{"ast":null,"code":"class Lock {\n  constructor() {\n    this.pin = '1234';\n    this.setupDom();\n    this.setupFlickity();\n    this.setupAudio();\n    this.onResize();\n    this.listen();\n  }\n\n  listen() {\n    window.addEventListener('resize', () => this.onResize());\n  }\n\n  onResize() {\n    if (window.innerWidth % 2 === 0) {\n      this.dom.lock.style.marginLeft = '0px';\n    } else {\n      this.dom.lock.style.marginLeft = '1px';\n    }\n  }\n\n  onChange() {\n    this.sounds.select.play();\n    this.code = this.getCode();\n    this.dom.code.textContent = this.code;\n\n    if (this.code === this.pin) {\n      this.verified = true;\n      this.dom.lock.classList.add('verified');\n      this.dom.status.textContent = 'UNLOCKED';\n      this.sounds.success.play();\n    } else {\n      this.dom.lock.classList.remove('verified');\n      this.dom.status.textContent = 'LOCKED';\n\n      if (this.verified) {\n        this.sounds.fail.play();\n      }\n\n      this.verified = false;\n    }\n  }\n\n  getCode() {\n    let code = '';\n\n    for (let i = 0, len = this.dom.rows.length; i < len; i++) {\n      let cell = this.dom.rows[i].querySelector('.is-selected .text');\n      let num = cell.textContent;\n      code += num;\n    }\n\n    return code;\n  }\n\n  setupDom() {\n    this.dom = {};\n    this.dom.lock = document.querySelector('.lock');\n    this.dom.rows = document.querySelectorAll('.row');\n    this.dom.code = document.querySelector('.code');\n    this.dom.status = document.querySelector('.status');\n  }\n\n  setupAudio() {\n    this.sounds = {};\n    this.sounds.select = new Howl({\n      src: ['https://jackrugile.com/sounds/misc/lock-button-1.mp3', 'https://jackrugile.com/sounds/misc/lock-button-1.ogg'],\n      volume: 0.5,\n      rate: 1.4\n    });\n    this.sounds.prev = new Howl({\n      src: ['https://jackrugile.com/sounds/misc/lock-button-4.mp3', 'https://jackrugile.com/sounds/misc/lock-button-4.ogg'],\n      volume: 0.5,\n      rate: 1\n    });\n    this.sounds.next = new Howl({\n      src: ['https://jackrugile.com/sounds/misc/lock-button-4.mp3', 'https://jackrugile.com/sounds/misc/lock-button-4.ogg'],\n      volume: 0.5,\n      rate: 1.2\n    });\n    this.sounds.hover = new Howl({\n      src: ['https://jackrugile.com/sounds/misc/lock-button-1.mp3', 'https://jackrugile.com/sounds/misc/lock-button-1.ogg'],\n      volume: 0.2,\n      rate: 3\n    });\n    this.sounds.success = new Howl({\n      src: ['https://jackrugile.com/sounds/misc/lock-online-1.mp3', 'https://jackrugile.com/sounds/misc/lock-online-1.ogg'],\n      volume: 0.5,\n      rate: 1\n    });\n    this.sounds.fail = new Howl({\n      src: ['https://jackrugile.com/sounds/misc/lock-fail-1.mp3', 'https://jackrugile.com/sounds/misc/lock-fail-1.ogg'],\n      volume: 0.6,\n      rate: 1\n    });\n  }\n\n  setupFlickity() {\n    for (let i = 0, len = this.dom.rows.length; i < len; i++) {\n      let row = this.dom.rows[i];\n      let flkty = new Flickity(row, {\n        selectedAttraction: 0.25,\n        friction: 0.9,\n        cellAlign: 'center',\n        pageDots: false,\n        wrapAround: true\n      });\n      flkty.lastIndex = 0;\n      flkty.on('select', () => {\n        if (flkty.selectedIndex !== flkty.lastIndex) {\n          this.onChange();\n        }\n\n        flkty.lastIndex = flkty.selectedIndex;\n      });\n      row.addEventListener('mouseenter', () => {\n        this.sounds.hover.play();\n      });\n    }\n\n    this.dom.prevNextBtns = this.dom.lock.querySelectorAll('.flickity-prev-next-button');\n\n    for (let i = 0, len = this.dom.prevNextBtns.length; i < len; i++) {\n      let btn = this.dom.prevNextBtns[i];\n      btn.addEventListener('click', () => {\n        if (btn.classList.contains('previous')) {\n          this.sounds.prev.play();\n        } else {\n          this.sounds.next.play();\n        }\n      });\n    }\n  }\n\n}\n\nlet lock = new Lock();","map":{"version":3,"sources":["/Users/jedi/Desktop/Education/REACT/deployed_treasureblox_dapp/src/PartnershipExample/GamesSelection/SecretCode/SecretCode.js"],"names":["Lock","constructor","pin","setupDom","setupFlickity","setupAudio","onResize","listen","window","addEventListener","innerWidth","dom","lock","style","marginLeft","onChange","sounds","select","play","code","getCode","textContent","verified","classList","add","status","success","remove","fail","i","len","rows","length","cell","querySelector","num","document","querySelectorAll","Howl","src","volume","rate","prev","next","hover","row","flkty","Flickity","selectedAttraction","friction","cellAlign","pageDots","wrapAround","lastIndex","on","selectedIndex","prevNextBtns","btn","contains"],"mappings":"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","sourcesContent":["class Lock {\n\n  constructor() {\n    this.pin = '1234';\n    this.setupDom();\n    this.setupFlickity();\n    this.setupAudio();\n    this.onResize();\n    this.listen();\n  }\n\n  listen() {\n    window.addEventListener('resize', () => this.onResize());\n  }\n\n  onResize() {\n    if(window.innerWidth % 2 === 0) {\n      this.dom.lock.style.marginLeft = '0px';\n    } else {\n      this.dom.lock.style.marginLeft = '1px';\n    }\n  }\n\n  onChange() {\n    this.sounds.select.play();\n    this.code = this.getCode();\n    this.dom.code.textContent = this.code;\n    if(this.code === this.pin) {\n      this.verified = true;\n      this.dom.lock.classList.add('verified');\n      this.dom.status.textContent = 'UNLOCKED';\n      this.sounds.success.play();\n    } else {\n      this.dom.lock.classList.remove('verified');\n      this.dom.status.textContent = 'LOCKED';\n      if(this.verified) {\n        this.sounds.fail.play();\n      }\n      this.verified = false;\n    }\n  }\n\n  getCode() {\n    let code = '';\n    for(let i = 0, len = this.dom.rows.length; i < len; i++) {\n      let cell = this.dom.rows[i].querySelector('.is-selected .text');\n      let num = cell.textContent;\n      code += num;\n    }\n    return code;\n  }\n\n  setupDom() {\n    this.dom = {};\n    this.dom.lock = document.querySelector('.lock');\n    this.dom.rows = document.querySelectorAll('.row');\n    this.dom.code = document.querySelector('.code');\n    this.dom.status = document.querySelector('.status');\n  }\n\n  setupAudio() {\n    this.sounds = {};\n\n    this.sounds.select = new Howl({\n      src: [\n        'https://jackrugile.com/sounds/misc/lock-button-1.mp3',\n        'https://jackrugile.com/sounds/misc/lock-button-1.ogg'\n      ],\n      volume: 0.5,\n      rate: 1.4\n    });\n\n    this.sounds.prev = new Howl({\n      src: [\n        'https://jackrugile.com/sounds/misc/lock-button-4.mp3',\n        'https://jackrugile.com/sounds/misc/lock-button-4.ogg'\n      ],\n      volume: 0.5,\n      rate: 1\n    });\n\n    this.sounds.next = new Howl({\n      src: [\n        'https://jackrugile.com/sounds/misc/lock-button-4.mp3',\n        'https://jackrugile.com/sounds/misc/lock-button-4.ogg'\n      ],\n      volume: 0.5,\n      rate: 1.2\n    });\n\n    this.sounds.hover = new Howl({\n      src: [\n        'https://jackrugile.com/sounds/misc/lock-button-1.mp3',\n        'https://jackrugile.com/sounds/misc/lock-button-1.ogg'\n      ],\n      volume: 0.2,\n      rate: 3\n    });\n\n    this.sounds.success = new Howl({\n      src: [\n        'https://jackrugile.com/sounds/misc/lock-online-1.mp3',\n        'https://jackrugile.com/sounds/misc/lock-online-1.ogg'\n      ],\n      volume: 0.5,\n      rate: 1\n    });\n\n    this.sounds.fail = new Howl({\n      src: [\n        'https://jackrugile.com/sounds/misc/lock-fail-1.mp3',\n        'https://jackrugile.com/sounds/misc/lock-fail-1.ogg'\n      ],\n      volume: 0.6,\n      rate: 1\n    });\n  }\n\n  setupFlickity() {\n    for(let i = 0, len = this.dom.rows.length; i < len; i++) {\n      let row = this.dom.rows[i];\n      let flkty = new Flickity( row, {\n        selectedAttraction: 0.25,\n        friction: 0.9,\n        cellAlign: 'center',\n        pageDots: false,\n        wrapAround: true\n      });\n      flkty.lastIndex = 0;\n\n      flkty.on('select', () => {\n        if(flkty.selectedIndex !== flkty.lastIndex) {\n          this.onChange();\n        }\n        flkty.lastIndex = flkty.selectedIndex;\n      });\n\n      row.addEventListener('mouseenter', () => {\n        this.sounds.hover.play();\n      });\n    }\n\n    this.dom.prevNextBtns = this.dom.lock.querySelectorAll('.flickity-prev-next-button');\n    for(let i = 0, len = this.dom.prevNextBtns.length; i < len; i++) {\n      let btn = this.dom.prevNextBtns[i];\n      btn.addEventListener('click', () => {\n        if(btn.classList.contains('previous')) {\n          this.sounds.prev.play();\n        } else {\n          this.sounds.next.play();\n        }\n      });\n    }\n  }\n\n}\n\nlet lock = new Lock();\n"]},"metadata":{},"sourceType":"module"}