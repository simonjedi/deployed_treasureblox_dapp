{"ast":null,"code":"import _objectSpread from\"/Users/jedi/Desktop/Education/REACT/deployed_treasureblox_dapp/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/jedi/Desktop/Education/REACT/deployed_treasureblox_dapp/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jedi/Desktop/Education/REACT/deployed_treasureblox_dapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jedi/Desktop/Education/REACT/deployed_treasureblox_dapp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import CreateBoard from'../utils/CreateBoard';import{revealed}from\"../utils/Reveal\";import Cell from'./Cell';import{BrowserRouter as Router,Switch,Route,Link,Redirect}from\"react-router-dom\";import useSound from'use-sound';import troy_wrong from'../assets/troy_oh_no.mp4';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function Board(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),play=_useState2[0],setPlay=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),redirectLevel1More=_useState4[0],setredirectLevel1More=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),wrong=_useState6[0],setWrong=_useState6[1];var _useSound=useSound(troy_wrong,{volume:1.5}),_useSound2=_slicedToArray(_useSound,1),playFour=_useSound2[0];var handleMore=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setredirectLevel1More(true);setTimeout(function(){},1000);case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleMore(){return _ref.apply(this,arguments);};}();var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),grid=_useState8[0],setGrid=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),nonMinecount=_useState10[0],setNonMinecount=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),mineLocation=_useState12[0],setmineLocation=_useState12[1];var style={display:'flex',flexDirection:'row',width:'fit-content',color:'white'};useEffect(function(){freshBoard();},[]);// Making freshboard atstart\nvar freshBoard=function freshBoard(){var newBoard=CreateBoard(10,10,20);setNonMinecount(10*10-20);setmineLocation(newBoard.mineLocation);setGrid(newBoard.board);};var updateFlag=function updateFlag(e,x,y){e.preventDefault();// deep copy of the object\nvar newGrid=JSON.parse(JSON.stringify(grid));newGrid[x][y].flagged=true;console.log(newGrid[x][y]);setGrid(newGrid);};var newfresh=function newfresh(){freshBoard();};var endGame=function endGame(){setPlay(false);};var revealcell=function revealcell(x,y){var newGrid=JSON.parse(JSON.stringify(grid));if(newGrid[x][y].value===\"X\"){for(var i=0;i<mineLocation.length;i++){newGrid[mineLocation[i][0]][mineLocation[i][1]].revealed=true;}playFour();setTimeout(newfresh,1000);setGrid(newGrid);setWrong(true);setTimeout(endGame,2500);}if(nonMinecount===0){setTimeout(handleMore,500);setTimeout(newfresh,500);}else{var revealedboard=revealed(newGrid,x,y,nonMinecount);setGrid(revealedboard.arr);setNonMinecount(revealedboard.newNonMines);}};return/*#__PURE__*/_jsx(\"div\",{className:\"parent\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:'white',textAlign:'center',fontSize:'30px',margin:'0px'},children:[\"Find All Non-Mines - \",nonMinecount]}),/*#__PURE__*/_jsx(\"br\",{}),play?/*#__PURE__*/_jsx(\"div\",{}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Redirect,_objectSpread({to:\"/hunt2\"},props))}),redirectLevel1More?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Redirect,_objectSpread({to:\"/Game1MoreGame2\"},props))}):/*#__PURE__*/_jsx(\"div\",{}),grid.map(function(singlerow,index1){return/*#__PURE__*/_jsx(\"div\",{style:style,children:singlerow.map(function(singlecol,index2){return/*#__PURE__*/_jsx(Cell,{details:singlecol,updateFlag:updateFlag,revealcell:revealcell},index2);})},index1);})]})});}export default Board;","map":{"version":3,"sources":["/Users/jedi/Desktop/Education/REACT/deployed_treasureblox_dapp/src/MineGame/BloxMine/Board.js"],"names":["React","useState","useEffect","CreateBoard","revealed","Cell","BrowserRouter","Router","Switch","Route","Link","Redirect","useSound","troy_wrong","Board","props","play","setPlay","redirectLevel1More","setredirectLevel1More","wrong","setWrong","volume","playFour","handleMore","setTimeout","grid","setGrid","nonMinecount","setNonMinecount","mineLocation","setmineLocation","style","display","flexDirection","width","color","freshBoard","newBoard","board","updateFlag","e","x","y","preventDefault","newGrid","JSON","parse","stringify","flagged","console","log","newfresh","endGame","revealcell","value","i","length","revealedboard","arr","newNonMines","textAlign","fontSize","margin","map","singlerow","index1","singlecol","index2"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport CreateBoard from '../utils/CreateBoard';\nimport { revealed } from \"../utils/Reveal\";\nimport Cell from './Cell';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect\n} from \"react-router-dom\";\n\nimport useSound from 'use-sound';\n\nimport troy_wrong from '../assets/troy_oh_no.mp4';\n\n\n\n\n\nfunction Board(props) {\n\n    const [play,setPlay] = useState(true);\n\n    const [redirectLevel1More,setredirectLevel1More] = useState(false);\n\n\n    const [wrong,setWrong] = useState(false);\n\n    const [playFour]=useSound(troy_wrong,{volume:1.5});\n\n\n    const handleMore = async() => {\n      setredirectLevel1More(true)\n      setTimeout(function(){\n      },1000);\n    }\n\n    const [grid,setGrid]=useState([]);\n    const [nonMinecount,setNonMinecount]=useState(0);\n    const [mineLocation,setmineLocation]=useState([]);\n    const style={\n        display : 'flex',\n        flexDirection : 'row',\n        width:'fit-content',\n        color:'white',\n\n    }\n    useEffect(()=>{\n\n        freshBoard();\n    },[]);\n\n    // Making freshboard atstart\n    const freshBoard = () => {\n        const newBoard=CreateBoard(10,10,20);\n        setNonMinecount(10*10-20);\n        setmineLocation(newBoard.mineLocation);\n        setGrid(newBoard.board);\n    }\n    const updateFlag=(e,x,y)=>{\n        e.preventDefault();\n        // deep copy of the object\n        let newGrid=JSON.parse(JSON.stringify(grid));\n        newGrid[x][y].flagged=true;\n        console.log(newGrid[x][y]);\n        setGrid(newGrid);\n    }\n    const newfresh=()=>{\n        freshBoard();\n    }\n    const endGame=()=>{\n\n        setPlay(false);\n    }\n\n    const revealcell=(x,y)=>{\n        let newGrid=JSON.parse(JSON.stringify(grid));\n        if(newGrid[x][y].value===\"X\"){\n            for(let i=0;i<mineLocation.length;i++){\n                newGrid[mineLocation[i][0]][mineLocation[i][1]].revealed=true;\n\n            }\n            playFour()\n            setTimeout(newfresh,1000);\n            setGrid(newGrid);\n            setWrong(true)\n            setTimeout(endGame,2500);\n\n        }\n        if(nonMinecount===0){\n\n          setTimeout(handleMore,500);\n          setTimeout(newfresh,500);\n\n        }\n        else{\n            let revealedboard=revealed(newGrid,x,y,nonMinecount);\n            setGrid(revealedboard.arr);\n            setNonMinecount(revealedboard.newNonMines);\n\n        }\n    }\n\n    return (\n        <div className=\"parent\">\n            <div>\n                <h3 style={{color:'white',textAlign:'center',fontSize:'30px',margin:'0px'}}>Find All Non-Mines - {nonMinecount}</h3>\n                <br/>\n\n                {play?(\n                  <div>\n\n                  </div>\n                ):(\n                  <div>\n                  <Redirect to=\"/hunt2\" {...props}/>\n\n                  </div>\n                )}\n\n\n                {redirectLevel1More?(\n                  <div>\n                  <Redirect to=\"/Game1MoreGame2\" {...props}/>\n                  </div>\n                ):(\n                  <div>\n\n                  </div>\n\n                )}\n\n                {grid.map((singlerow,index1)=>{\n                    return (\n                        <div style={style} key={index1}>\n                            {singlerow.map((singlecol,index2)=>{\n                            return  <Cell details={singlecol} key={index2} updateFlag={updateFlag} revealcell={revealcell}/>\n                            })}\n\n                        </div>\n                    )\n                })}\n            </div>\n\n        </div>\n    )\n}\nexport default Board;\n"]},"metadata":{},"sourceType":"module"}